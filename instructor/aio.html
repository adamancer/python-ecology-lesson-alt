<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Data Management with Python for Ecologists: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/dc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/dc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/dc/favicon-16x16.png">
<link rel="manifest" href="../favicons/dc/site.webmanifest">
<link rel="mask-icon" href="../favicons/dc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="../assets/images/data-logo.svg"><span class="badge text-bg-info">
          <abbr title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-circle" style="border-radius: 5px"></i>
              Beta
            </a>
            <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Data Management with Python for Ecologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Data Management with Python for Ecologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<hr>
<li><a class="dropdown-item" href="reference.html">References</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Management with Python for Ecologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introducing-python.html">1. Introducing Python</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-introducing-pandas.html">2. Introducing pandas</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-accessing-and-filtering-data.html">3. Accessing and Filtering Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-aggregating-data.html">4. Aggregating Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-combining-data.html">5. Combining Dataframes</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-visualizing-data.html">6. Visualizing Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr>
<li><a class="dropdown-item" href="reference.html">References</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introducing-python"><p>Content from <a href="01-introducing-python.html">Introducing Python</a></p>
<hr>
<p>Last updated on 2025-07-03 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/01-introducing-python.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is Python?</li>
<li>How do we assign variables in Python?</li>
<li>How do we perform actions in Python?</li>
<li>How does Python handle different types of data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce some Python terminology</li>
<li>Learn how to assign values to variables</li>
<li>Learn how to use functions and methods</li>
<li>Introduce the built-in Python data types and functions</li>
<li>Introduce the Python Standard Library</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="about-python">About Python<a class="anchor" aria-label="anchor" href="#about-python"></a>
</h2>
<hr class="half-width">
<p>Python is a high-level, general purpose language. In practical terms,
that means it dispenses with many of the complexities of writing code.
It is widely used and has an active community of developers, making it
suitable for a large number of tasks.</p>
<p>A core philosophical tenet of Python is that code is read more often
than it is written. Best practices for coding in Python therefore
emphasize writing well-documented, consistently formatted code that
follows language-wide standards. <strong>In a Pythonic world, everyone’s
code would look the same.</strong></p>
<div id="whitespace" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="whitespace" class="callout-inner">
<h3 class="callout-title">Whitespace</h3>
<div class="callout-content">
<p>One feature to be aware of going in is that Python uses whitespace
(as opposed to braces) to organize blocks of code. This can be a
sticking point for people used to other languages.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<hr class="half-width">
<p>Everything in Python is an <em>object</em>. Each object has a type,
which controls what the object can do. For example, we can add integers
together or append a string to a list. An object can be
<em>assigned</em> to a <em>variable</em>, and a <em>function</em>
performs an action.</p>
<p>Python is an <em>object-oriented language</em>. This means that each
object includes built-in variables and functions that can be used from
the object itself. Whe use different terms to refer to variables and
functions associated with an object:</p>
<ul>
<li>an <em>attribute</em> stores a piece of data</li>
<li>a <em>method</em> performs an action</li>
</ul>
<p>Let’s look at one of the main built-in types, <code>str</code>, to
see how this works in practice. In Python, <code>str</code>, short for
string, is used to store and manipulate text. To get started, we’ll
assign the string “hello world” to the variable <strong>text</strong>.
In Python, we use a single equal sign for assignment and quotes to
create a string.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"hello world"</span></span></code></pre>
</div>
<div id="using-quotes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-quotes" class="callout-inner">
<h3 class="callout-title">Using quotes</h3>
<div class="callout-content">
<p>Either single or double quotes can be used to create strings, but try
to use them consistently! We will use double quotes in the examples
here.</p>
</div>
</div>
</div>
<p>Now, instead of retyping the full string every time we need it, we
can access that string by referring to the variable:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>text</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'hello world'</span></span></code></pre>
</div>
<p>We can check the type of the variable using the <code>type()</code>
function:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="bu">type</span>(text)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">str</span></span></code></pre>
</div>
<p>A <code>str</code> is also an object, which means that it includes
methods and attributes that we can use. Let’s use the
<code>upper()</code> method to convert the text to upper case. We call
methods by adding a period and the name of the method to the
variable:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>text.upper()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'HELLO WORLD'</span></span></code></pre>
</div>
<p>After running a cell, the notebook displays the object that appears
in the last line of a cell (but note that some actions, like assigning
to a variable, have no output). Some cells will have more than one line,
and it is often useful to display output from earlier in a cell. This
can be accomplished using the built-in <code>print()</code> function. In
the cell below, we’ll use <code>print()</code> to show a series of
strings:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co">"hello"</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"h"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"e"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"l"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"l"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"o"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">"world"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">h</span></span>
<span><span class="va">e</span></span>
<span><span class="va">l</span></span>
<span><span class="va">l</span></span>
<span><span class="va">o</span></span>
<span></span>
<span><span class="st">'world'</span></span></code></pre>
</div>
<p>Note that the string “hello” at the top of the cell lacks a print
statement and does not appear in the output, whereas the text “world”
<em>does</em> appear in the output because it is the last line of the
cell.</p>
<p>Each object may contain many attributes and methods. Use the
<code>help()</code> function on any object, including functions or
methods, to show a description of the object and list the available
methods.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">str</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on class str in module builtins:

class str(object)
 |  str(object='') -&gt; str
 |  str(bytes_or_buffer[, encoding[, errors]]) -&gt; str
 |
 |  Create a new string object from the given object. If encoding or
 |  errors is specified, then the object must expose a data buffer
 |  that will be decoded using the given encoding and error handler.
 |  Otherwise, returns the result of object.__str__() (if defined)
 |  or repr(object).
 |  encoding defaults to 'utf-8'.
 |  errors defaults to 'strict'.
 |
 |  Methods defined here:
 |
 |  __add__(self, value, /)
 |      Return self+value.
 |
 |  __contains__(self, key, /)
 |      Return bool(key in self).
 |
 |  __eq__(self, value, /)
 |      Return self==value.
 |
 |  __format__(self, format_spec, /)
 |      Return a formatted version of the string as described by format_spec.
 |
 |  __ge__(self, value, /)
 |      Return self&gt;=value.
 |
 |  __getitem__(self, key, /)
 |      Return self[key].
 |
 |  __getnewargs__(self, /)
 |
 |  __gt__(self, value, /)
 |      Return self&gt;value.
 |
 |  __hash__(self, /)
 |      Return hash(self).
 |
 |  __iter__(self, /)
 |      Implement iter(self).
 |
 |  __le__(self, value, /)
 |      Return self&lt;=value.
 |
 |  __len__(self, /)
 |      Return len(self).
 |
 |  __lt__(self, value, /)
 |      Return self&lt;value.
 |
 |  __mod__(self, value, /)
 |      Return self%value.
 |
 |  __mul__(self, value, /)
 |      Return self*value.
 |
 |  __ne__(self, value, /)
 |      Return self!=value.
 |
 |  __repr__(self, /)
 |      Return repr(self).
 |
 |  __rmod__(self, value, /)
 |      Return value%self.
 |
 |  __rmul__(self, value, /)
 |      Return value*self.
 |
 |  __sizeof__(self, /)
 |      Return the size of the string in memory, in bytes.
 |
 |  __str__(self, /)
 |      Return str(self).
 |
 |  capitalize(self, /)
 |      Return a capitalized version of the string.
 |
 |      More specifically, make the first character have upper case and the rest lower
 |      case.
 |
 |  casefold(self, /)
 |      Return a version of the string suitable for caseless comparisons.
 |
 |  center(self, width, fillchar=' ', /)
 |      Return a centered string of length width.
 |
 |      Padding is done using the specified fill character (default is a space).
 |
 |  count(self, sub[, start[, end]], /)
 |      Return the number of non-overlapping occurrences of substring sub in string S[start:end].
 |
 |      Optional arguments start and end are interpreted as in slice notation.
 |
 |  encode(self, /, encoding='utf-8', errors='strict')
 |      Encode the string using the codec registered for encoding.
 |
 |      encoding
 |        The encoding in which to encode the string.
 |      errors
 |        The error handling scheme to use for encoding errors.
 |        The default is 'strict' meaning that encoding errors raise a
 |        UnicodeEncodeError.  Other possible values are 'ignore', 'replace' and
 |        'xmlcharrefreplace' as well as any other name registered with
 |        codecs.register_error that can handle UnicodeEncodeErrors.
 |
 |  endswith(self, suffix[, start[, end]], /)
 |      Return True if the string ends with the specified suffix, False otherwise.
 |
 |      suffix
 |        A string or a tuple of strings to try.
 |      start
 |        Optional start position. Default: start of the string.
 |      end
 |        Optional stop position. Default: end of the string.
 |
 |  expandtabs(self, /, tabsize=8)
 |      Return a copy where all tab characters are expanded using spaces.
 |
 |      If tabsize is not given, a tab size of 8 characters is assumed.
 |
 |  find(self, sub[, start[, end]], /)
 |      Return the lowest index in S where substring sub is found, such that sub is contained within S[start:end].
 |
 |      Optional arguments start and end are interpreted as in slice notation.
 |      Return -1 on failure.
 |
 |  format(self, /, *args, **kwargs)
 |      Return a formatted version of the string, using substitutions from args and kwargs.
 |      The substitutions are identified by braces ('{' and '}').
 |
 |  format_map(self, mapping, /)
 |      Return a formatted version of the string, using substitutions from mapping.
 |      The substitutions are identified by braces ('{' and '}').
 |
 |  index(self, sub[, start[, end]], /)
 |      Return the lowest index in S where substring sub is found, such that sub is contained within S[start:end].
 |
 |      Optional arguments start and end are interpreted as in slice notation.
 |      Raises ValueError when the substring is not found.
 |
 |  isalnum(self, /)
 |      Return True if the string is an alpha-numeric string, False otherwise.
 |
 |      A string is alpha-numeric if all characters in the string are alpha-numeric and
 |      there is at least one character in the string.
 |
 |  isalpha(self, /)
 |      Return True if the string is an alphabetic string, False otherwise.
 |
 |      A string is alphabetic if all characters in the string are alphabetic and there
 |      is at least one character in the string.
 |
 |  isascii(self, /)
 |      Return True if all characters in the string are ASCII, False otherwise.
 |
 |      ASCII characters have code points in the range U+0000-U+007F.
 |      Empty string is ASCII too.
 |
 |  isdecimal(self, /)
 |      Return True if the string is a decimal string, False otherwise.
 |
 |      A string is a decimal string if all characters in the string are decimal and
 |      there is at least one character in the string.
 |
 |  isdigit(self, /)
 |      Return True if the string is a digit string, False otherwise.
 |
 |      A string is a digit string if all characters in the string are digits and there
 |      is at least one character in the string.
 |
 |  isidentifier(self, /)
 |      Return True if the string is a valid Python identifier, False otherwise.
 |
 |      Call keyword.iskeyword(s) to test whether string s is a reserved identifier,
 |      such as "def" or "class".
 |
 |  islower(self, /)
 |      Return True if the string is a lowercase string, False otherwise.
 |
 |      A string is lowercase if all cased characters in the string are lowercase and
 |      there is at least one cased character in the string.
 |
 |  isnumeric(self, /)
 |      Return True if the string is a numeric string, False otherwise.
 |
 |      A string is numeric if all characters in the string are numeric and there is at
 |      least one character in the string.
 |
 |  isprintable(self, /)
 |      Return True if all characters in the string are printable, False otherwise.
 |
 |      A character is printable if repr() may use it in its output.
 |
 |  isspace(self, /)
 |      Return True if the string is a whitespace string, False otherwise.
 |
 |      A string is whitespace if all characters in the string are whitespace and there
 |      is at least one character in the string.
 |
 |  istitle(self, /)
 |      Return True if the string is a title-cased string, False otherwise.
 |
 |      In a title-cased string, upper- and title-case characters may only
 |      follow uncased characters and lowercase characters only cased ones.
 |
 |  isupper(self, /)
 |      Return True if the string is an uppercase string, False otherwise.
 |
 |      A string is uppercase if all cased characters in the string are uppercase and
 |      there is at least one cased character in the string.
 |
 |  join(self, iterable, /)
 |      Concatenate any number of strings.
 |
 |      The string whose method is called is inserted in between each given string.
 |      The result is returned as a new string.
 |
 |      Example: '.'.join(['ab', 'pq', 'rs']) -&gt; 'ab.pq.rs'
 |
 |  ljust(self, width, fillchar=' ', /)
 |      Return a left-justified string of length width.
 |
 |      Padding is done using the specified fill character (default is a space).
 |
 |  lower(self, /)
 |      Return a copy of the string converted to lowercase.
 |
 |  lstrip(self, chars=None, /)
 |      Return a copy of the string with leading whitespace removed.
 |
 |      If chars is given and not None, remove characters in chars instead.
 |
 |  partition(self, sep, /)
 |      Partition the string into three parts using the given separator.
 |
 |      This will search for the separator in the string.  If the separator is found,
 |      returns a 3-tuple containing the part before the separator, the separator
 |      itself, and the part after it.
 |
 |      If the separator is not found, returns a 3-tuple containing the original string
 |      and two empty strings.
 |
 |  removeprefix(self, prefix, /)
 |      Return a str with the given prefix string removed if present.
 |
 |      If the string starts with the prefix string, return string[len(prefix):].
 |      Otherwise, return a copy of the original string.
 |
 |  removesuffix(self, suffix, /)
 |      Return a str with the given suffix string removed if present.
 |
 |      If the string ends with the suffix string and that suffix is not empty,
 |      return string[:-len(suffix)]. Otherwise, return a copy of the original
 |      string.
 |
 |  replace(self, old, new, /, count=-1)
 |      Return a copy with all occurrences of substring old replaced by new.
 |
 |        count
 |          Maximum number of occurrences to replace.
 |          -1 (the default value) means replace all occurrences.
 |
 |      If the optional argument count is given, only the first count occurrences are
 |      replaced.
 |
 |  rfind(self, sub[, start[, end]], /)
 |      Return the highest index in S where substring sub is found, such that sub is contained within S[start:end].
 |
 |      Optional arguments start and end are interpreted as in slice notation.
 |      Return -1 on failure.
 |
 |  rindex(self, sub[, start[, end]], /)
 |      Return the highest index in S where substring sub is found, such that sub is contained within S[start:end].
 |
 |      Optional arguments start and end are interpreted as in slice notation.
 |      Raises ValueError when the substring is not found.
 |
 |  rjust(self, width, fillchar=' ', /)
 |      Return a right-justified string of length width.
 |
 |      Padding is done using the specified fill character (default is a space).
 |
 |  rpartition(self, sep, /)
 |      Partition the string into three parts using the given separator.
 |
 |      This will search for the separator in the string, starting at the end. If
 |      the separator is found, returns a 3-tuple containing the part before the
 |      separator, the separator itself, and the part after it.
 |
 |      If the separator is not found, returns a 3-tuple containing two empty strings
 |      and the original string.
 |
 |  rsplit(self, /, sep=None, maxsplit=-1)
 |      Return a list of the substrings in the string, using sep as the separator string.
 |
 |        sep
 |          The separator used to split the string.
 |
 |          When set to None (the default value), will split on any whitespace
 |          character (including \n \r \t \f and spaces) and will discard
 |          empty strings from the result.
 |        maxsplit
 |          Maximum number of splits.
 |          -1 (the default value) means no limit.
 |
 |      Splitting starts at the end of the string and works to the front.
 |
 |  rstrip(self, chars=None, /)
 |      Return a copy of the string with trailing whitespace removed.
 |
 |      If chars is given and not None, remove characters in chars instead.
 |
 |  split(self, /, sep=None, maxsplit=-1)
 |      Return a list of the substrings in the string, using sep as the separator string.
 |
 |        sep
 |          The separator used to split the string.
 |
 |          When set to None (the default value), will split on any whitespace
 |          character (including \n \r \t \f and spaces) and will discard
 |          empty strings from the result.
 |        maxsplit
 |          Maximum number of splits.
 |          -1 (the default value) means no limit.
 |
 |      Splitting starts at the front of the string and works to the end.
 |
 |      Note, str.split() is mainly useful for data that has been intentionally
 |      delimited.  With natural text that includes punctuation, consider using
 |      the regular expression module.
 |
 |  splitlines(self, /, keepends=False)
 |      Return a list of the lines in the string, breaking at line boundaries.
 |
 |      Line breaks are not included in the resulting list unless keepends is given and
 |      true.
 |
 |  startswith(self, prefix[, start[, end]], /)
 |      Return True if the string starts with the specified prefix, False otherwise.
 |
 |      prefix
 |        A string or a tuple of strings to try.
 |      start
 |        Optional start position. Default: start of the string.
 |      end
 |        Optional stop position. Default: end of the string.
 |
 |  strip(self, chars=None, /)
 |      Return a copy of the string with leading and trailing whitespace removed.
 |
 |      If chars is given and not None, remove characters in chars instead.
 |
 |  swapcase(self, /)
 |      Convert uppercase characters to lowercase and lowercase characters to uppercase.
 |
 |  title(self, /)
 |      Return a version of the string where each word is titlecased.
 |
 |      More specifically, words start with uppercased characters and all remaining
 |      cased characters have lower case.
 |
 |  translate(self, table, /)
 |      Replace each character in the string using the given translation table.
 |
 |        table
 |          Translation table, which must be a mapping of Unicode ordinals to
 |          Unicode ordinals, strings, or None.
 |
 |      The table must implement lookup/indexing via __getitem__, for instance a
 |      dictionary or list.  If this operation raises LookupError, the character is
 |      left untouched.  Characters mapped to None are deleted.
 |
 |  upper(self, /)
 |      Return a copy of the string converted to uppercase.
 |
 |  zfill(self, width, /)
 |      Pad a numeric string with zeros on the left, to fill a field of the given width.
 |
 |      The string is never truncated.
 |
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |
 |  __new__(*args, **kwargs)
 |      Create and return a new object.  See help(type) for accurate signature.
 |
 |  maketrans(x, y=&lt;unrepresentable&gt;, z=&lt;unrepresentable&gt;, /)
 |      Return a translation table usable for str.translate().
 |
 |      If there is only one argument, it must be a dictionary mapping Unicode
 |      ordinals (integers) or characters to Unicode ordinals, strings or None.
 |      Character keys will be then converted to ordinals.
 |      If there are two arguments, they must be strings of equal length, and
 |      in the resulting dictionary, each character in x will be mapped to the
 |      character at the same position in y. If there is a third argument, it
 |      must be a string, whose characters will be mapped to None in the result.

</code></pre>
</div>
<div class="section level3">
<h3 id="data-types">Data types<a class="anchor" aria-label="anchor" href="#data-types"></a>
</h3>
<p>Python includes data types for representing other types of data,
including numbers or collections of data. The core Python data types are
introduced in the table below. We’ll talk more about some of these as we
encounter them in the lesson:</p>
<table style="width:99%;" class="table">
<colgroup>
<col width="45%">
<col width="13%">
<col width="39%">
</colgroup>
<thead><tr class="header">
<th align="left">Type</th>
<th align="left">Definition</th>
<th align="left">Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/stdtypes.html#textseq" class="external-link">str</a></td>
<td align="left">Character string</td>
<td align="left"><code>"hello world"</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#int" class="external-link">int</a></td>
<td align="left">Integer numerical</td>
<td align="left"><code>42</code></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#float" class="external-link">float</a></td>
<td align="left">Approximate numerical</td>
<td align="left"><code>0.406</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#bool" class="external-link">bool</a></td>
<td align="left">Stores True or False values</td>
<td align="left">
<code>True</code> or <code>False</code>
</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/stdtypes.html#lists" class="external-link">list</a></td>
<td align="left">Sequence that can be modified</td>
<td align="left"><code>["a", "b", "c"]</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/stdtypes.html#tuples" class="external-link">tuple</a></td>
<td align="left">Sequence that cannot be modified</td>
<td align="left"><code>("a", "b", "c")</code></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict" class="external-link">dict</a></td>
<td align="left">Mapping of keys to values</td>
<td align="left"><code>{"DC": "District of Columbia", "MD": "Maryland", "VA": "Virginia"}</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset" class="external-link">set</a></td>
<td align="left">Collection of unique values</td>
<td align="left"><code>{"1", "2", 1}</code></td>
</tr>
</tbody>
</table>
</div>
</section><section><h2 class="section-heading" id="libraries">Libraries<a class="anchor" aria-label="anchor" href="#libraries"></a>
</h2>
<hr class="half-width">
<p>Python includes a number of <a href="https://docs.python.org/3/library/functions.html" class="external-link">built-in
functions</a> that are available wherever Python is installed. See the
table below for some examples.</p>
<div class="section level3">
<h3 id="examples-of-built-in-functions">Examples of built-in functions<a class="anchor" aria-label="anchor" href="#examples-of-built-in-functions"></a>
</h3>
<table style="width:98%;" class="table">
<colgroup>
<col width="55%">
<col width="18%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#abs" class="external-link"><code>abs()</code></a></td>
<td align="left">Gets the absolute value of a number</td>
<td align="left"><code>abs(-1.5) # returns 1.5</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#max" class="external-link"><code>max()</code></a></td>
<td align="left">Gets the highest value in a sequence</td>
<td align="left"><code>min([1, 2, 3]) # returns 3</code></td>
</tr>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#min" class="external-link"><code>min()</code></a></td>
<td align="left">Gets the lowest value in a sequence</td>
<td align="left"><code>min([1, 2, 3]) # returns 1</code></td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/functions.html#round" class="external-link"><code>round()</code></a></td>
<td align="left">Rounds a number to the nearest integer</td>
<td align="left"><code>round(5.4) # returns 5</code></td>
</tr>
</tbody>
</table>
<p>Python also includes a number of built-in modules. A <em>module</em>
bundles functions and other code related to a single task or data type.
They are used to simplify the performance of common tasks. By using a
common, well-tested code base, modules allow coders to work more quickly
and with fewer errors.</p>
<div id="modules-packages-and-libraries" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="modules-packages-and-libraries" class="callout-inner">
<h3 class="callout-title">Modules, packages, and libraries</h3>
<div class="callout-content">
<p>A module is generally a single file. Collections of modules are
referred to as packages or libraries.</p>
</div>
</div>
</div>
<p>The modules built into Python are referred to as the <a href="https://docs.python.org/3/library/index.html" class="external-link">Python Standard
Library</a>. They can be accessed through a typical Python installation
and do not require any additional downloads. A few examples are included
in the table below, but as with the table of built-in functions, there
are more where those came from.</p>
</div>
<div class="section level3">
<h3 id="examples-from-the-python-standard-library">Examples from the Python Standard Library<a class="anchor" aria-label="anchor" href="#examples-from-the-python-standard-library"></a>
</h3>
<table style="width:98%;" class="table">
<colgroup>
<col width="62%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th align="left">Library</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/datetime.html" class="external-link">datetime</a></td>
<td align="left">Read, write, and analyze dates and times</td>
</tr>
<tr class="even">
<td align="left"><a href="https://docs.python.org/3/library/os.html" class="external-link">os</a></td>
<td align="left">Create, manipulate, and get information about files and
paths</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://docs.python.org/3/library/random.html" class="external-link">random</a></td>
<td align="left">Generate pseudo-random numbers</td>
</tr>
</tbody>
</table>
<div id="documentation" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="documentation" class="callout-inner">
<h3 class="callout-title">Documentation</h3>
<div class="callout-content">
<p>The documentation for each module can be viewed by clicking the link
in the table. Documentation is an invaluable resource. It provides
descriptions of what a module does and detailed information about how it
can be used, often including examples.</p>
</div>
</div>
</div>
<p>Unlike the built-in functions, we must import a library before we can
use it. We do so using the <code>import</code> statement:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="im">import</span> datetime</span></code></pre>
</div>
<p>Once imported, the module is available for use anywhere in the
current document. A module is itself an object, and we must include the
name of the module to access any functions it defines. For example, to
create a <code>datetime.date</code> object (that is, a <code>date</code>
object defined by the <code>datetime</code> module), we include both the
module and method name:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>date <span class="op">=</span> datetime.date(<span class="dv">1970</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span></code></pre>
</div>
<p>As with the built-in types, the <code>datetime.date</code> object
includes its own suite of attributes and methods. We can, for example,
use the year attribute to get the year:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>date.year</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1970</span></span></code></pre>
</div>
<p>Or convert the date to a string using the <a href="https://docs.python.org/3/library/datetime.html#datetime.date.strftime" class="external-link"><code>strftime()</code></a>
method and Python’s <a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes" class="external-link">date
format codes</a>. Here, %Y corresponds to YYYY, %m to MM, and %d to
DD.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>date.strftime(<span class="st">"%Y-%m-</span><span class="sc">%d</span><span class="st">"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'1970-01-01'</span></span></code></pre>
</div>
<p>Like Python itself, the Python Standard Library is maintained by the
Python Software Foundation. The built-in modules are limited to a
relatively small set of operations expected to be useful to a broad
population of users. However, Python allows users to create their own
packages to perform actions that are beyond the scope of core Python.
The rest of this lesson will focus on an external package called
pandas.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Python is a widely used language that can be used for a variety of
tasks, including analyzing data</li>
<li>Python uses different data types to handle text, numbers,
collections, and other kinds of data</li>
<li>Assign values to variables using the <code>=</code> operator</li>
<li>Use functions and methods to perform specific actions</li>
<li>Python’s functionality can be extended using packages developed by
the community</li>
<li>Use the <code>help()</code> function and developer documentation to
learn more about Python modules and packages</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-02-introducing-pandas"><p>Content from <a href="02-introducing-pandas.html">Introducing pandas</a></p>
<hr>
<p>Last updated on 2025-07-03 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/02-introducing-pandas.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What data will we be working with in this lesson?</li>
<li>What is pandas?</li>
<li>Why use pandas for data analysis?</li>
<li>How do we read and write data using pandas?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn about the dataset we’ll be working with</li>
<li>Look at the benefits of using pandas to analyze data</li>
<li>Import data from a CSV into a pandas dataframe</li>
<li>Learn how pandas handles different types of data</li>
<li>Write a dataframe to a CSV</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="dataset-description">Dataset description<a class="anchor" aria-label="anchor" href="#dataset-description"></a>
</h2>
<hr class="half-width">
<p><em>The dataset description was taken from <a href="https://datacarpentry.org/sql-ecology-lesson/" class="external-link">Data Management
with SQL for Ecologists</a> (CC-BY-4.0)</em></p>
<p>The data we will be using is a time-series for a small mammal
community in southern Arizona. This is part of a project studying the
effects of rodents and ants on the plant community that has been running
for almost 40 years. The rodents are sampled on a series of 24 plots,
with different experimental manipulations controlling which rodents are
allowed to access which plots. Each row represents a single observation
of an animal, including its species, weight, and hindfoot length.</p>
<p>This is a real dataset that has been used in over 100 publications.
We’ve simplified it for the workshop, but you can download the full
dataset and work with it using exactly the same tools we’ll learn about
today.</p>
</section><section><h2 class="section-heading" id="answering-questions-using-data">Answering questions using data<a class="anchor" aria-label="anchor" href="#answering-questions-using-data"></a>
</h2>
<hr class="half-width">
<p>Let’s look at some of the cleaned spreadsheets we downloaded during
Setup to complete this challenge. Over the course of this lesson, we’ll
be working with the following three files:</p>
<ul>
<li>surveys.csv</li>
<li>species.csv</li>
<li>plots.csv</li>
</ul>
<div id="discussion" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="discussion" class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Open each of these csv files and explore them. What information is
contained in each file? Specifically, if we had the following research
questions:</p>
<ul>
<li>How has the hindfoot length and weight of Dipodomys species changed
over time?</li>
<li>What is the average weight of each species, per year?</li>
<li>What information can I learn about Dipodomys species in the 2000s,
over time?</li>
</ul>
<p>What would we need to answer these questions? Which files have the
data we need? What operations would we need to perform if we were doing
these analyses by hand?</p>
<p><strong>Hint:</strong> We can view CSV files by clicking on them in
the left sidebar.</p>
</div>
</div>
</div>
<p>In order to answer the questions described above, we’ll need to do
the following basic data operations:</p>
<ul>
<li>select subsets of the data (rows and columns)</li>
<li>group subsets of data</li>
<li>do math and other calculations</li>
<li>combine data across spreadsheets</li>
<li>plot data to identify patterns</li>
</ul>
<p>In addition, we don’t want to do this manually! Instead of searching
for the right pieces of data ourselves, or clicking between
spreadsheets, or manually sorting columns, we want to make the computer
do the work.</p>
<p>In particular, we want to use a tool where it’s easy to repeat our
analysis in case our data changes. We also want to do all this searching
without actually modifying our source data.</p>
</section><section><h2 class="section-heading" id="why-use-pandas">Why use pandas?<a class="anchor" aria-label="anchor" href="#why-use-pandas"></a>
</h2>
<hr class="half-width">
<p>The Python Data Analysis Library, or pandas, is a Python package used
to work with dataframes. A dataframe is a representation of tabular data
similar to a well-organized spreadsheet, consisting of rows
(representing records) and columns (representing fields or variables).
Tables are a very common format for representing scientific data and
should be very familiar to anyone taking this course.</p>
<p>Pandas offers the same advantages as any well-written package: It
creates a common codebase for working on a single task, in this case,
analyzing data. Some benefits of this approach include:</p>
<ul>
<li>
<strong>Reliability:</strong> Provides flexible, well-tested methods
for reading, querying, aggregating, grouping, and plotting data</li>
<li>
<strong>Repeatability:</strong> Repeat the same analyses when data
is added or changed</li>
<li>
<strong>Speed:</strong> Faster in many cases than coding our own
functions in Python</li>
<li>
<strong>Reproducibility:</strong> Document and share code in
narrative form using tools like Jupyter notebooks</li>
<li>
<strong>Community:</strong> Access a large, active community for
help when we run into problems</li>
</ul></section><section><h2 class="section-heading" id="importing-data-using-pandas">Importing data using pandas<a class="anchor" aria-label="anchor" href="#importing-data-using-pandas"></a>
</h2>
<hr class="half-width">
<p>Unlike the modules in the Python Standard Library discussed in the
previous lesson, pandas is not part of the typical Python installation.
Once it has been installed, however, it can be accessed using the same
<code>import</code> command used to import built-in modules. By
convention, pandas is imported using the alias “pd”. We can assign the
alias using the <code>as</code> keyword:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<div id="using-aliases" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-aliases" class="callout-inner">
<h3 class="callout-title">Using aliases</h3>
<div class="callout-content">
<p>Why use an alias? We will refer to pandas many, many times when
writing a script, so it’s useful to abbreviate the name and save some
keystrokes. But it’s also a matter of consistency with the larger
community. Many of the core scientific Python packages, including
pandas, recommend a specific alias, so most code shared online will use
those aliases as well.</p>
</div>
</div>
</div>
<p>Now that pandas has been imported, we can access the function we need
to load data from a CSV, <code>pd.read_csv()</code>. The function call
has three parts:</p>
<ul>
<li>The name (or in this case, alias) of the object that defines the
function. This can be a module, package, or any other object. It can
also be omitted in some cases (for example, when using a function built
into Python).</li>
<li>The name of the method we’d like to use</li>
<li>A set of parentheses that tells the function to run.</li>
</ul>
<p>Many functions include <em>parameters</em> that allow the user to
modify the behavior of the function. Parameters may be positional or
named. In Python, data passed to positional parameters are called
<em>arguments</em> (often abbreviated as args), and data passed to named
parameters are called <em>keyword arguments</em> (often abbreviated as
kwargs). In either case, the arguments are included inside the
parentheses used to call the function.</p>
<p>Below, we will pass a single argument to <code>pd.read_csv()</code>:
A string that tells the function where to find the surveys.csv file.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>Here are a few things to observe about how the dataframe is
structured:</p>
<ul>
<li>By default, the notebook displays the first and last five rows of
the dataframe</li>
<li>Each row represents a record</li>
<li>Each column represents a field</li>
<li>The unlabeled column on the far left is called the <em>row
label</em>
</li>
<li>pandas has done a lot of work behind the scenes when reading the
data, including:
<ul>
<li>Assigning the <em>row index</em> as the row label</li>
<li>Assigning each column a data type based on its contents</li>
<li>Assigning certain cells the value NaN, which stands for “not a
number” and is used to designate null values in the dataset. Here, those
cells represent blank cells in the spreadsheet.</li>
</ul>
</li>
</ul>
<p>Much of this behavior can be controlled when the spreadsheet is first
read by using keyword arguments. For example, to force
<code>pd.read_csv()</code> to use the existing record_id column as the
row label, use the <em>index_col</em> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>pd.read_csv(<span class="st">"data/surveys.csv"</span>, index_col<span class="op">=</span><span class="st">"record_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr>
<tr>
<th>
record_id
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
1
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
5
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35549
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 8 columns
</p>
<p>Now record_id appears on the far left, indicating that pandas is
using that column as the row label.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Run <code>help()</code> on the <code>pd.read_csv()</code> method
(note that you should omit the trailing parentheses). Alternatively,
take a look at the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" class="external-link">much
prettier documentation</a> provided by the pandas developers. Based on
that information, answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>What parameter would you use to control how null values are
interpreted?</li>
<li>What values are interpreted as NaN by default?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution to challenge 1
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>na_values</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution to challenge 2
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>In addition to empty cells, the following values are interpreted as
NaN, or null, by pandas. These strings may look familiar from programs
like Excel.</p>
<ul>
<li>#N/A</li>
<li>#N/A N/A</li>
<li>#NA</li>
<li>-1.#IND</li>
<li>-1.#QNAN</li>
<li>-NaN</li>
<li>-nan</li>
<li>1.#IND</li>
<li>1.#QNAN</li>
<li>&lt;NA&gt;</li>
<li>N/A</li>
<li>NA</li>
<li>NULL</li>
<li>NaN</li>
<li>n/a</li>
<li>nan</li>
<li>null</li>
</ul>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="assigning-to-variables">Assigning to variables<a class="anchor" aria-label="anchor" href="#assigning-to-variables"></a>
</h2>
<hr class="half-width">
<p>We can assign the dataframe to a variable so we don’t need to load it
every time we want to access it. As we saw in the previous lesson, we
use a single equals sign to assign an object to a variable. The variable
name should be short and descriptive. By convention, variable names in
Python use snake_case (that is, lower case with individual words
separated by underscores).</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>surveys</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
</section><section><h2 class="section-heading" id="understanding-data-types-in-pandas">Understanding data types in pandas<a class="anchor" aria-label="anchor" href="#understanding-data-types-in-pandas"></a>
</h2>
<hr class="half-width">
<p>We can use the <code>info()</code> method to see how pandas
interpreted each column in the dataset. This method gives use the name,
count, and data type of each column and provides some information about
the dataset as a whole (for example, memory usage, which is helpful to
know when working with large datasets):</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>surveys.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 35549 entries, 0 to 35548
Data columns (total 9 columns):
 #   Column           Non-Null Count  Dtype
---  ------           --------------  -----
 0   record_id        35549 non-null  int64
 1   month            35549 non-null  int64
 2   day              35549 non-null  int64
 3   year             35549 non-null  int64
 4   plot_id          35549 non-null  int64
 5   species_id       34786 non-null  object
 6   sex              33038 non-null  object
 7   hindfoot_length  31438 non-null  float64
 8   weight           32283 non-null  float64
dtypes: float64(2), int64(5), object(2)
memory usage: 2.4+ MB
</code></pre>
</div>
<p>Note that the data types used by pandas look a little different than
the ones used by Python itself. See the table below for the rough
equivalents.</p>
<div class="section level3">
<h3 id="data-types-in-pandas">Data types in pandas<a class="anchor" aria-label="anchor" href="#data-types-in-pandas"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th align="left">Data Type</th>
<th align="left">Description</th>
<th align="left">Similar To</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">object</td>
<td align="left">Character string or mixed</td>
<td align="left">str</td>
</tr>
<tr class="even">
<td align="left">int64</td>
<td align="left">Integer numerical</td>
<td align="left">int</td>
</tr>
<tr class="odd">
<td align="left">float64</td>
<td align="left">Approximate numerical</td>
<td align="left">float</td>
</tr>
<tr class="even">
<td align="left">bool</td>
<td align="left">Stores True or False values</td>
<td align="left">bool</td>
</tr>
<tr class="odd">
<td align="left">datetime64</td>
<td align="left">Stores date and time values</td>
<td align="left">datetime.datetime</td>
</tr>
</tbody>
</table>
</div>
</section><section><h2 class="section-heading" id="saving-a-dataframe">Saving a dataframe<a class="anchor" aria-label="anchor" href="#saving-a-dataframe"></a>
</h2>
<hr class="half-width">
<p>When analyzing a dataset, we’ll often want to save our work to a
file. The <code>to_csv()</code> method can be used to write a dataframe
to a CSV, which is a text file which places each row on a separate line
and separates individual cells with commas. We will include a positional
argument with the path to which we want to save the file. We will also
include the <em>index</em> keyword argument. Setting that parameter to
False tells pandas not to include the row label when writing the
CSV.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>surveys.to_csv(<span class="st">"data/surveys_mod.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>This is far from the only option for writing data—pandas supports a
variety of file types for both reading and writing. Try searching for
“read_” in the <a href="https://pandas.pydata.org/docs/reference/index.html" class="external-link">pandas API
reference</a> to see other supported formats.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>This lesson uses real data from a decades-long survey of rodents in
Arizona</li>
<li>pandas is a data analysis package that allows users to read,
manipulate, and view tabular data using Python</li>
<li>pandas represents data as a dataframe consisting of rows (records)
and columns (fields or variables)</li>
<li>We can read a dataframe from CSV using the
<code>pd.read_csv()</code> function and write a dataframe to CSV using
the <code>to_csv()</code> method</li>
<li>The behavior of a function can be modified by including arguments
and keyword arguments when the function is called</li>
<li>pandas uses its own classes to represent text, numbers, booleans,
and datetimes</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-03-accessing-and-filtering-data"><p>Content from <a href="03-accessing-and-filtering-data.html">Accessing and Filtering Data</a></p>
<hr>
<p>Last updated on 2025-07-15 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/03-accessing-and-filtering-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can we look at individual rows and columns in a dataframe?</li>
<li>How can we look at subsets of the dataset?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Access individual rows and columns</li>
<li>Access multiple columns at once using a list</li>
<li>Filter the dataframe based on the data it contains</li>
<li>Sort the dataframe</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the previous lesson, we saw how to load a dataframe from a file.
Now we’ll look at how to access the data within that dataframe. We’ll
begin by importing pandas and reading our CSV, as we did in the previous
lesson:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>surveys</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<section><h2 class="section-heading" id="getting-a-column">Getting a column<a class="anchor" aria-label="anchor" href="#getting-a-column"></a>
</h2>
<hr class="half-width">
<p>We can get a single column from the dataframe using square brackets.
Square brackets are used in Python to access objects inside a container
like a <code>list</code>, <code>dict</code>, or <code>DataFrame</code>.
To get a column, we pass the name of the column inside a set brackets
appended to the dataframe. For example, tp retrieve the year, use:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>surveys[<span class="st">"year"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0        1977
1        1977
2        1977
3        1977
4        1977
         ...
35544    2002
35545    2002
35546    2002
35547    2002
35548    2002
Name: year, Length: 35549, dtype: int64</code></pre>
</div>
<p>A single column is returned as a <code>Series</code>, which is why
the output for this cell is formatted differently than the other cells
in this lesson. The main difference between a <code>Series</code> and a
<code>DataFrame</code> is that a <code>DataFrame</code> can have
multiple columns. The two classes share many but not all attributes and
methods.</p>
<p>Note also that this is a copy of data from the original dataframe.
Changing values in the series will have no effect on the original
dataframe. <strong>Most operations on a DataFrame or Series return a
copy of the original object.</strong></p>
</section><section><h2 class="section-heading" id="getting-unique-values">Getting unique values<a class="anchor" aria-label="anchor" href="#getting-unique-values"></a>
</h2>
<hr class="half-width">
<p>We can get the list of unique values within a column using the
<code>unique()</code> method:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>surveys[<span class="st">"species_id"</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['NL', 'DM', 'PF', 'PE', 'DS', 'PP', 'SH', 'OT', 'DO', 'OX', 'SS',
       'OL', 'RM', nan, 'SA', 'PM', 'AH', 'DX', 'AB', 'CB', 'CM', 'CQ',
       'RF', 'PC', 'PG', 'PH', 'PU', 'CV', 'UR', 'UP', 'ZL', 'UL', 'CS',
       'SC', 'BA', 'SF', 'RO', 'AS', 'SO', 'PI', 'ST', 'CU', 'SU', 'RX',
       'PB', 'PL', 'PX', 'CT', 'US'], dtype=object)</code></pre>
</div>
</section><section><h2 class="section-heading" id="getting-multiple-columns">Getting multiple columns<a class="anchor" aria-label="anchor" href="#getting-multiple-columns"></a>
</h2>
<hr class="half-width">
<p>It is also possible to retrieve more than one column at a time. To do
some, we’ll use the built-in <code>list</code> data type.</p>
<p>Python uses <code>list</code> to store sequences, that is, ordered
lists of objects. Any type of Python object can be stored in a list:
strings, integers, floats, even other lists or collections. Once
created, a list can be modified by appending, inserting, or deleting
items. We will not be going into detail about these operations here, but
as always you can learn more about how to use a list using
<code>help()</code> or <a href="https://docs.python.org/3/library/stdtypes.html#list" class="external-link">the Python
docs</a>.</p>
<p>You can create a list using square brackets. Let’s create a list of
the three columns in our dataframe that together give the date of an
observation:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>cols <span class="op">=</span> [<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>]</span></code></pre>
</div>
<p>When we pass this list to the survey dataframe using square brackets,
as we did above, we get a copy of the dataframe containing just those
columns. Note that, because we asked for more than one column, pandas
returns a dataframe:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>surveys[cols]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
year
</th>
<th>
month
</th>
<th>
day
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
1
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
2
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
3
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
4
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 3 columns
</p>
<p>Suppose we want to get the unique values for multiple columns. The
<code>unique()</code> method only works on a <code>Series</code>, that
is, a single column. Instead, we can use the
<code>drop_duplicates()</code> method on a copy of the dataframe with
the columns we’re interested in. Like any well-named method,
<code>drop_duplicates()</code> does exactly what the name implies: It
returns a copy of the dataframe with all duplicate rows removed.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>surveys[[<span class="st">"plot_id"</span>, <span class="st">"species_id"</span>]].drop_duplicates()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
2
</td>
<td>
NL
</td>
</tr>
<tr>
<th>
1
</th>
<td>
3
</td>
<td>
NL
</td>
</tr>
<tr>
<th>
2
</th>
<td>
2
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
3
</th>
<td>
7
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
4
</th>
<td>
3
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35474
</th>
<td>
22
</td>
<td>
SF
</td>
</tr>
<tr>
<th>
35511
</th>
<td>
11
</td>
<td>
US
</td>
</tr>
<tr>
<th>
35519
</th>
<td>
9
</td>
<td>
SF
</td>
</tr>
<tr>
<th>
35527
</th>
<td>
13
</td>
<td>
US
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
15
</td>
<td>
US
</td>
</tr>
</tbody>
</table>
<p>
612 rows × 2 columns
</p>
</section><section><h2 class="section-heading" id="getting-one-or-more-rows">Getting one or more rows<a class="anchor" aria-label="anchor" href="#getting-one-or-more-rows"></a>
</h2>
<hr class="half-width">
<p>Pandas provides a variety of ways to view rows within a dataframe. We
can get the rows at the beginning of the dataframe using
<code>head()</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>surveys.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>By default, this methods returns the first five rows. We can provide
a number inside the parentheses if we want to view a different number of
rows:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>surveys.head(<span class="dv">10</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
5
</th>
<td>
6
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
PF
</td>
<td>
M
</td>
<td>
14.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
6
</th>
<td>
7
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
PE
</td>
<td>
F
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
7
</th>
<td>
8
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
8
</th>
<td>
9
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
9
</th>
<td>
10
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
6
</td>
<td>
PF
</td>
<td>
F
</td>
<td>
20.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>The <code>tail()</code> method is similar, except it returns rows
from the end of the table:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>surveys.tail()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>Or we can use <code>sample()</code> to return a random row from
anywhere in the dataframe:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>surveys.sample()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody><tr>
<th>
25936
</th>
<td>
25937
</td>
<td>
5
</td>
<td>
11
</td>
<td>
1997
</td>
<td>
15
</td>
<td>
OT
</td>
<td>
F
</td>
<td>
20.0
</td>
<td>
25.0
</td>
</tr></tbody>
</table>
<p>If you’re following along, you may notice that the output of this
method on your screen differs from what’s shown here. That’s exactly
what we’d expect to see. Remember, <code>sample()</code> is returnning a
random row—it would be more surprising if the outputs were the same!</p>
</section><section><h2 class="section-heading" id="slicing-the-dataframe">Slicing the dataframe<a class="anchor" aria-label="anchor" href="#slicing-the-dataframe"></a>
</h2>
<hr class="half-width">
<p>The <code>head()</code>, <code>tail()</code>, and
<code>sample()</code> methods are useful for getting a feel for how our
data is structured, but we may also want to look at specific rows. One
way to do so is to extract rows based on where they appear in the
dataframe. We can use square brackets to extract these <em>slices</em>.
A slice is a subset of the dataframe starting at one row and ending at
another. To get a slice, we pass the starting and ending indexes to the
square brackets as <code>start:end</code>:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>surveys[<span class="dv">2</span>:<span class="dv">5</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>There are three things to be aware of when slicing a dataframe:</p>
<ul>
<li>Row indexes are <em>zero-based</em>. The first row has an index of
0, not
<ol style="list-style-type: decimal"><li>
</li></ol>
</li>
<li>When slicing, the slice includes start but not the end index. In
this case, that means the slice includes rows 2, 3, and 4 but not
5.</li>
<li>The row label can be different from the row index. They happen to be
the same here, but don’t count on that being true.</li>
</ul>
<p>Core Python types like <code>list</code> and <code>tuple</code> use
the same conventions, as do most Python pacakges that work with
sequences.</p>
</section><section><h2 class="section-heading" id="filtering-data">Filtering data<a class="anchor" aria-label="anchor" href="#filtering-data"></a>
</h2>
<hr class="half-width">
<p>It is often more useful to subset a dataframe based on the data
itself. Pandas provides a variety of ways to filter a dataframe in this
way. For example, suppose we want to look at a specific species in the
surveys dataframe. We can view the rows matching a given species using
the same square brackets we used above to select specific columns and
rows. Here, however, instead of using a value or list of values, we will
use a <em>conditional expression</em>.</p>
<p>A conditional expression is a statement that evaluates as either True
or False. They often make use of inequality operators, for example:</p>
<ul>
<li>
<code>==</code> for equals</li>
<li>
<code>!=</code> for does not equal</li>
<li>
<code>&gt;</code> for greater than</li>
<li>
<code>&gt;=</code> for greater than or equal to</li>
<li>
<code>&lt;</code> for less than</li>
<li>
<code>&lt;=</code> for less than or equal to</li>
</ul>
<p>Examples of conditional statements include:</p>
<ul>
<li>
<code>"a" == "b"</code> evaluates False</li>
<li>
<code>"a" != b"</code> evaluates True</li>
<li>
<code>3 &gt; 4</code> evaluates False</li>
</ul>
<p>Note that, when comparing strings, evaluations are case
sensitive:</p>
<ul>
<li>
<code>"a" == "A"</code> evaluates False</li>
</ul>
<div id="for-assignment-for-equality" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="for-assignment-for-equality" class="callout-inner">
<h3 class="callout-title">= for assignment, == for equality</h3>
<div class="callout-content">
<p>Remember that, in Python, a single equal sign is used to assign
values to variables. We’ve already used the assignment operator in this
lesson, for example, when we created a new column in the dataframe.</p>
</div>
</div>
</div>
<p>To limit the dataframe to rows matching the species “DM”, we will
again use square brackets. This time, instead of passing a string or a
number, we will include the conditional
<code>surveys["species_id"] == "DM"</code> inside the square
brackets:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>surveys[surveys[<span class="st">"species_id"</span>] <span class="op">==</span> <span class="st">"DM"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
7
</th>
<td>
8
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
8
</th>
<td>
9
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35532
</th>
<td>
35533
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
48.0
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
</tr>
</tbody>
</table>
<p>
10596 rows × 9 columns
</p>
<p>Other comparisons can be used in the same way. To limit our results
to observations made in or after 2000, use:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>surveys[surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
30158
</th>
<td>
30159
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
F
</td>
<td>
22.0
</td>
<td>
17.0
</td>
</tr>
<tr>
<th>
30159
</th>
<td>
30160
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
30160
</th>
<td>
30161
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
F
</td>
<td>
21.0
</td>
<td>
17.0
</td>
</tr>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
</tr>
<tr>
<th>
30162
</th>
<td>
30163
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
16.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
5391 rows × 9 columns
</p>
<p>As when we selected columns above, each filtering operation returns a
copy of the dataframe.</p>
</section><section><h2 class="section-heading" id="using-complex-filters">Using complex filters<a class="anchor" aria-label="anchor" href="#using-complex-filters"></a>
</h2>
<hr class="half-width">
<p>When analyzing data, we will often need to filter on multiple columns
at one time. In pandas, we can combine conditionals using <em>bitwise
operators</em>. These work like the terms AND and OR in many search
interfaces:</p>
<ul>
<li>
<code>&amp;</code>: True if conditions on both sides of the operator
are True (and)</li>
<li>
<code>|</code>: True if a condition on either side is True (or)</li>
</ul>
<p>To return all observations of DM in or after 2000, we can combine the
two conditionals we used previously into a single operation. Note that,
when joining conditionals using <code>&amp;</code> or <code>|</code>, we
must wrap each individual condition in parentheses. If we omit the
parentheses, pandas will not perform the comparisons in the expected
order.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>surveys[(surveys[<span class="st">"species_id"</span>] <span class="op">==</span> <span class="st">"DM"</span>) <span class="op">&amp;</span> (surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>)]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
</tr>
<tr>
<th>
30178
</th>
<td>
30179
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
12
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
60.0
</td>
</tr>
<tr>
<th>
30195
</th>
<td>
30196
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
52.0
</td>
</tr>
<tr>
<th>
30196
</th>
<td>
30197
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
43.0
</td>
</tr>
<tr>
<th>
30209
</th>
<td>
30210
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
22
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
56.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35532
</th>
<td>
35533
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
48.0
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
</tr>
</tbody>
</table>
<p>
847 rows × 9 columns
</p>
<p>We can also use methods to filter the dataframe. For example,
<code>isin()</code> can be used to match a list of values. Methods can
be combined with other conditionals as above. The example below returns
rows from 2000 or later with either “DM”, “DO”, or “DS” in the
species_id column:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>surveys[</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>    surveys[<span class="st">"species_id"</span>].isin([<span class="st">"DM"</span>, <span class="st">"DO"</span>, <span class="st">"DS"</span>]) <span class="op">&amp;</span> (surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
30159
</th>
<td>
30160
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
</tr>
<tr>
<th>
30166
</th>
<td>
30167
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
41.0
</td>
</tr>
<tr>
<th>
30170
</th>
<td>
30171
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
52.0
</td>
</tr>
<tr>
<th>
30172
</th>
<td>
30173
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
54.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
</tbody>
</table>
<p>
1268 rows × 9 columns
</p>
</section><section><h2 class="section-heading" id="sorting-data">Sorting data<a class="anchor" aria-label="anchor" href="#sorting-data"></a>
</h2>
<hr class="half-width">
<p>We can sort a dataframe using the <code>sort_values()</code> method.
To sort by weight, we’ll pass the name of that column to the
<code>sort_values()</code>:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>surveys.sort_values(<span class="st">"weight"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
28125
</th>
<td>
28126
</td>
<td>
6
</td>
<td>
28
</td>
<td>
1998
</td>
<td>
15
</td>
<td>
PF
</td>
<td>
M
</td>
<td>
NaN
</td>
<td>
4.0
</td>
</tr>
<tr>
<th>
217
</th>
<td>
218
</td>
<td>
9
</td>
<td>
13
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
PF
</td>
<td>
M
</td>
<td>
13.0
</td>
<td>
4.0
</td>
</tr>
<tr>
<th>
9822
</th>
<td>
9823
</td>
<td>
1
</td>
<td>
19
</td>
<td>
1985
</td>
<td>
23
</td>
<td>
RM
</td>
<td>
M
</td>
<td>
16.0
</td>
<td>
4.0
</td>
</tr>
<tr>
<th>
9852
</th>
<td>
9853
</td>
<td>
1
</td>
<td>
19
</td>
<td>
1985
</td>
<td>
17
</td>
<td>
RM
</td>
<td>
M
</td>
<td>
16.0
</td>
<td>
4.0
</td>
</tr>
<tr>
<th>
9936
</th>
<td>
9937
</td>
<td>
2
</td>
<td>
16
</td>
<td>
1985
</td>
<td>
21
</td>
<td>
RM
</td>
<td>
M
</td>
<td>
16.0
</td>
<td>
4.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35530
</th>
<td>
35531
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
27.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>By default, rows are sorted in ascending order (smallest to largest).
We can reorder them from largest to smallest using the
<em>ascending</em> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>surveys.sort_values(<span class="st">"weight"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
33048
</th>
<td>
33049
</td>
<td>
11
</td>
<td>
17
</td>
<td>
2001
</td>
<td>
12
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
280.0
</td>
</tr>
<tr>
<th>
12870
</th>
<td>
12871
</td>
<td>
5
</td>
<td>
28
</td>
<td>
1987
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
278.0
</td>
</tr>
<tr>
<th>
15458
</th>
<td>
15459
</td>
<td>
1
</td>
<td>
11
</td>
<td>
1989
</td>
<td>
9
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
275.0
</td>
</tr>
<tr>
<th>
2132
</th>
<td>
2133
</td>
<td>
10
</td>
<td>
25
</td>
<td>
1979
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
F
</td>
<td>
33.0
</td>
<td>
274.0
</td>
</tr>
<tr>
<th>
12728
</th>
<td>
12729
</td>
<td>
4
</td>
<td>
26
</td>
<td>
1987
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
270.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35530
</th>
<td>
35531
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
27.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>We can sort on multiple fields at once by passing a list of column
names. We can control how each column sorts by passing a list with the
same number of values (that is, one value per column) to the ascending
keyword. The cell below sorts the results first by species_id (largest
to smallest), then by weight (smallest to largest):</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>surveys.sort_values([<span class="st">"species_id"</span>, <span class="st">"weight"</span>], ascending<span class="op">=</span>[<span class="va">False</span>, <span class="va">True</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
14249
</th>
<td>
14250
</td>
<td>
3
</td>
<td>
20
</td>
<td>
1988
</td>
<td>
18
</td>
<td>
ZL
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
14350
</th>
<td>
14351
</td>
<td>
4
</td>
<td>
17
</td>
<td>
1988
</td>
<td>
23
</td>
<td>
ZL
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35511
</th>
<td>
35512
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35512
</th>
<td>
35513
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35527
</th>
<td>
35528
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34756
</th>
<td>
34757
</td>
<td>
9
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
23
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34969
</th>
<td>
34970
</td>
<td>
10
</td>
<td>
6
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35187
</th>
<td>
35188
</td>
<td>
11
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35384
</th>
<td>
35385
</td>
<td>
12
</td>
<td>
8
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>As with the dataframe methods above, <code>sort_values()</code>
returns a copy of the original dataframe and leaves the original
untouched.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Write a query that returns year, species_id, and weight from the
surveys table, sorted with the largest weights at the top.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="co"># Create a subset containing only year, species_id, and weight</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>subset <span class="op">=</span> surveys[[<span class="st">"year"</span>, <span class="st">"species_id"</span>, <span class="st">"weight"</span>]]</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="co"># Sort the subset by weight</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>subset.sort_values(<span class="st">"weight"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
year
</th>
<th>
species_id
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
33048
</th>
<td>
2001
</td>
<td>
NL
</td>
<td>
280.0
</td>
</tr>
<tr>
<th>
12870
</th>
<td>
1987
</td>
<td>
NL
</td>
<td>
278.0
</td>
</tr>
<tr>
<th>
15458
</th>
<td>
1989
</td>
<td>
NL
</td>
<td>
275.0
</td>
</tr>
<tr>
<th>
2132
</th>
<td>
1979
</td>
<td>
NL
</td>
<td>
274.0
</td>
</tr>
<tr>
<th>
12728
</th>
<td>
1987
</td>
<td>
NL
</td>
<td>
270.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35530
</th>
<td>
2002
</td>
<td>
PB
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
2002
</td>
<td>
US
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
2002
</td>
<td>
AH
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
2002
</td>
<td>
AH
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
2002
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 3 columns
</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="showing-data-on-a-plot">Showing data on a plot<a class="anchor" aria-label="anchor" href="#showing-data-on-a-plot"></a>
</h2>
<hr class="half-width">
<p>We will discuss data visualization using plotly in depth in <a href="06-visualizing-data.html">lesson 6</a> but will introduce some
fundamental concepts as we go along. Like pandas, plotly is an external
package installed separately from Python itself. It can be used to
create interactive, highly customizable plots based on pandas dataframes
using just a few lines of code. For example, to create a scatter plot of
the weight and hindfoot length, we need only to import plotly:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span></code></pre>
</div>
<p>Once plotly is loaded, we can create a scatter plot using the
<code>px.scatter()</code> method. We include the dataframe as the first
argument, then x and y keyword arguments to select the columns we want
to show on our scatter plot:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>px.scatter(surveys, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-b6a08e591b0d820b0d32fd9335576843.html" width="760" height="570"><p>This simple plot is limited in what it can tell us about the
observations in the dataset. We will return to this scatter plot in
later lessons to see how we can improve it to better understand the
survey data.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use square brackets to access rows, columns, and specific cells</li>
<li>Sort data and get unique values in a dataframe using methods
provided by pandas</li>
<li>By default, most dataframe operations return a copy of the original
data</li>
<li>Scatter plots can be used to visualize how two parameters in a
dataset covary</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</embed></section></section><section id="aio-04-aggregating-data"><p>Content from <a href="04-aggregating-data.html">Aggregating Data</a></p>
<hr>
<p>Last updated on 2025-07-15 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/04-aggregating-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we calculate summary statistics?</li>
<li>How do we group data?</li>
<li>How do null values affect calculations?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce aggregation calculations in pandas</li>
<li>Introduce grouping in pandas</li>
<li>Learn about how pandas handles null values</li>
<li>Make a boxplot showing summary stats</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In the previous lesson, we saw how to access and filter our
dataframe. Here, we’ll use pandas to calculate summary statistics for
some of that data.</p>
<p>As always, we’ll begin by importing pandas and reading our CSV:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<section><h2 class="section-heading" id="aggregating-data">Aggregating data<a class="anchor" aria-label="anchor" href="#aggregating-data"></a>
</h2>
<hr class="half-width">
<p>Aggregation allows us to describe the data in our dataframe by
calculating totals (like the number of records) and statistics (like the
mean value of a column). Pandas allows us to run these calculations on
dataframes or on subsets of interest.</p>
<p>Suppose we want to know how many records are in our dataset. We’ve
already seen that we can use the <code>info()</code> method to get
high-level about the dataset, including the number of entries. What if
just wanted the number of rows? One approach is to use the built-in
function <code>len()</code>, which is used to count the number of items
in an object (for example, the number of characters in a string or the
number of items in a list). When used on a dataframe, <code>len()</code>
returns the number of rows:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">len</span>(surveys)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">35549</span></span></code></pre>
</div>
<p>Pandas provides a suite of aggregation methods that go beyond this
simple case. For example, we can count the number of non-NaN values in
each column using <code>count()</code>:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>surveys.count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>record_id          35549
month              35549
day                35549
year               35549
plot_id            35549
species_id         34786
sex                33038
hindfoot_length    31438
weight             32283
dtype: int64</code></pre>
</div>
<p>Or we can find out the total weight of all individuals using
<code>sum()</code>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>surveys[<span class="st">"weight"</span>].<span class="bu">sum</span>()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">np.float64</span><span class="op">(</span><span class="fl">1377594.0</span><span class="op">)</span></span></code></pre>
</div>
<p>Other aggregation methods supported by pandas include
<code>min()</code>, <code>max()</code>, and <code>mean()</code>. These
methods all ignore NaNs, so missing data does not affect the
calculations.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Calculate the total weight, average weight, minimum and maximum
weights for all animals observed during the survey. Can you modify your
code so that it outputs these values only for weights between 5 and 10
grams?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Create a subset of only the animals between 5 and 10 grams</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>weights <span class="op">=</span> surveys[(surveys[<span class="st">"weight"</span>] <span class="op">&gt;</span> <span class="dv">5</span>) <span class="op">&amp;</span> (surveys[<span class="st">"weight"</span>] <span class="op">&lt;</span> <span class="dv">10</span>)][<span class="st">"weight"</span>]</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># Display aggregation calculations using a dict</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>{</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="st">"sum"</span>: weights.<span class="bu">sum</span>(),</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>    <span class="st">"mean"</span>: weights.mean(),</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>    <span class="st">"min"</span>: weights.<span class="bu">min</span>(),</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>    <span class="st">"max"</span>: weights.<span class="bu">max</span>(),</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>}</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'sum': np.float64(16994.0),
 'mean': np.float64(7.91523055426176),
 'min': np.float64(6.0),
 'max': np.float64(9.0)}</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>To quickly generate summary statistics, we can use the
<code>describe()</code> method instead of calling each aggregation
method separately. When we use this method on a dataframe, it calculates
stats for all columns with numeric data:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>surveys.describe()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
count
</th>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
31438.000000
</td>
<td>
32283.000000
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
17775.000000
</td>
<td>
6.477847
</td>
<td>
15.991195
</td>
<td>
1990.475231
</td>
<td>
11.397001
</td>
<td>
29.287932
</td>
<td>
42.672428
</td>
</tr>
<tr>
<th>
std
</th>
<td>
10262.256696
</td>
<td>
3.396925
</td>
<td>
8.257366
</td>
<td>
7.493355
</td>
<td>
6.799406
</td>
<td>
9.564759
</td>
<td>
36.631259
</td>
</tr>
<tr>
<th>
min
</th>
<td>
1.000000
</td>
<td>
1.000000
</td>
<td>
1.000000
</td>
<td>
1977.000000
</td>
<td>
1.000000
</td>
<td>
2.000000
</td>
<td>
4.000000
</td>
</tr>
<tr>
<th>
25%
</th>
<td>
8888.000000
</td>
<td>
4.000000
</td>
<td>
9.000000
</td>
<td>
1984.000000
</td>
<td>
5.000000
</td>
<td>
21.000000
</td>
<td>
20.000000
</td>
</tr>
<tr>
<th>
50%
</th>
<td>
17775.000000
</td>
<td>
6.000000
</td>
<td>
16.000000
</td>
<td>
1990.000000
</td>
<td>
11.000000
</td>
<td>
32.000000
</td>
<td>
37.000000
</td>
</tr>
<tr>
<th>
75%
</th>
<td>
26662.000000
</td>
<td>
10.000000
</td>
<td>
23.000000
</td>
<td>
1997.000000
</td>
<td>
17.000000
</td>
<td>
36.000000
</td>
<td>
48.000000
</td>
</tr>
<tr>
<th>
max
</th>
<td>
35549.000000
</td>
<td>
12.000000
</td>
<td>
31.000000
</td>
<td>
2002.000000
</td>
<td>
24.000000
</td>
<td>
70.000000
</td>
<td>
280.000000
</td>
</tr>
</tbody>
</table>
<p>You can see that <code>describe()</code> isn’t picky: It includes the
ID, year, month, and day columns in its results. Notice also that counts
differ in between columns. This is because <code>count()</code> only
counts non-NaN rows.</p>
<p>If desired, we can also describe a single column at a time:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>surveys[<span class="st">"weight"</span>].describe()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>count    32283.000000
mean        42.672428
std         36.631259
min          4.000000
25%         20.000000
50%         37.000000
75%         48.000000
max        280.000000
Name: weight, dtype: float64</code></pre>
</div>
<p>If we need more control over the output (for example, if we want to
calculate the total weight of all animals, as in the challenge above),
pandas provides the <code>agg()</code> method, which allows us to
specify aggregation methods by column. This method requires a
<code>dict</code>, which is a built-in data type that we have not
discussed yet.</p>
<p>Like a <code>list</code>, a <code>dict</code> is a container that can
include more than one object. Where as a <code>list</code> is a
sequence, a <code>dict</code> is a mapping consisting of <em>keys</em>
that map to <em>values</em>. Because it is built in, it can be used in
any Python application without having to import anything.</p>
<p>Let’s see what that looks like in practice by defining a
<code>dict</code> that maps lowercase to uppercase letters. We use curly
braces to define a <code>dict</code>. The parts of each item are
separated by a colon, with the key on the left and the value on the
right.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>letters <span class="op">=</span> {<span class="st">"a"</span>: <span class="st">"A"</span>, <span class="st">"b"</span>: <span class="st">"B"</span>, <span class="st">"c"</span>: <span class="st">"C"</span>}</span></code></pre>
</div>
<p>To retrieve the value for a given key, we use square brackets:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>letters[<span class="st">"a"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'A'</span></span></code></pre>
</div>
<p>There are many other ways to interact with a <code>dict</code>. We
can add or delete items, remap a key to a new value, or iterate over all
the keys, values, or items inside. Use <code>help()</code> or check out
<a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries" class="external-link">the
Python docs</a> to learn more about <code>dict</code>.</p>
<p>Now let’s return to the calculating summary statistics using
<code>agg()</code>. For this method, Each key must be a column name and
each value a list of the names of aggregation methods.</p>
<p>To calculate the total weight, mean weight, and mean hindfoot length
of all records in the survey, we can use:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>surveys.agg({<span class="st">"weight"</span>: [<span class="st">"sum"</span>, <span class="st">"mean"</span>], <span class="st">"hindfoot_length"</span>: [<span class="st">"mean"</span>]})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
weight
</th>
<th>
hindfoot_length
</th>
</tr></thead>
<tbody>
<tr>
<th>
sum
</th>
<td>
1.377594e+06
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
4.267243e+01
</td>
<td>
29.287932
</td>
</tr>
</tbody>
</table></section><section><h2 class="section-heading" id="grouping-data">Grouping data<a class="anchor" aria-label="anchor" href="#grouping-data"></a>
</h2>
<hr class="half-width">
<p>Up to now, we have been calculating statistics based on all records
in the dataframe, but the dataset includes a variety of species, each
with a characteristic size and number of observations. We may find it
useful to look at subsets for individual species (or plots, years,
etc.). We can do so using the <code>groupby()</code> method, which
groups records based on the data in one or more columns. To group by
species_id, use:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>surveys.groupby(<span class="st">"species_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at
0x7f3cfb63d7f0&gt;</p>
<p>The <code>groupby()</code> methods returns a special object that
includes the rows associated with each species_id, but we wouldn’t know
that based on the output of the previous cell. Instead of a table or
another view of the grouped records, the method outputs a string with
the type of object
(<code>pandas.core.groupby.generic.DataFrameGroupBy</code>) and some
information about where that object is stored (<code>0x0...</code>). Not
the most useful thing in the world! We might encounter strings like this
when developers determine that there is no concise, human-readable way
to represent an object.</p>
<p>Nevertheless, we can use the <code>DataFrameGroupBy</code> object to
calculate summary statistics for each group. In the example below, we’ll
calculate the number of times each species appears in the dataset. To
simplify the output, we’ll limit the count to a single column,
species_id, using square brackets. (Because <code>count()</code>
excludes NaNs, it’s usually a good practice to choose a column that does
not contain missing data. Record ID fields are a good choice, but any
field that is populated for every row will work.)</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>surveys.groupby(<span class="st">"species_id"</span>)[<span class="st">"species_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id
AB      303
AH      437
AS        2
BA       46
CB       50
CM       13
CQ       16
CS        1
CT        1
CU        1
CV        1
DM    10596
DO     3027
DS     2504
DX       40
NL     1252
OL     1006
OT     2249
OX       12
PB     2891
PC       39
PE     1299
PF     1597
PG        8
PH       32
PI        9
PL       36
PM      899
PP     3123
PU        5
PX        6
RF       75
RM     2609
RO        8
RX        2
SA       75
SC        1
SF       43
SH      147
SO       43
SS      248
ST        1
SU        5
UL        4
UP        8
UR       10
US        4
ZL        2
Name: species_id, dtype: int64</code></pre>
</div>
<p>To group by multiple columns, we can pass a list to
<code>groupby()</code>. To determine how many observations of each
species were made in each year, we can use:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>surveys.groupby([<span class="st">"species_id"</span>, <span class="st">"year"</span>])[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id  year
AB          1980     5
            1981     7
            1982    34
            1983    41
            1984    12
                    ..
UR          1994     1
            2001     2
            2002     1
US          2002     4
ZL          1988     2
Name: record_id, Length: 509, dtype: int64</code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Write statements to answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>How many individuals were counted in each year in total?</li>
<li>How many were counted each year, for each different species?</li>
<li>What was the average weight of each species in each year?</li>
<li>How many individuals were counted for each species that was observed
more than 10 times?</li>
</ol>
<p>Can you get the answer to both 2 and 3 in a single query?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution to challenge 1 </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>How many individuals were counted in each year in total?</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Individual counts per year</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>surveys.groupby(<span class="st">"year"</span>)[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year
1977     503
1978    1048
1979     719
1980    1415
1981    1472
1982    1978
1983    1673
1984     981
1985    1438
1986     942
1987    1671
1988    1469
1989    1569
1990    1311
1991    1347
1992    1038
1993     750
1994     668
1995    1222
1996    1706
1997    2493
1998    1610
1999    1135
2000    1552
2001    1610
2002    2229
Name: record_id, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution to challenge 2 </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>How many individuals were counted each year for each different
species?</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Individual counts by species and year</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>result <span class="op">=</span> surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>])[<span class="st">"record_id"</span>].count()</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a><span class="co"># Use the option_context context manager to show all rows</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>):</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>    <span class="bu">print</span>(result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year  species_id
1977  DM            264
      DO             12
      DS             98
      NL             31
      OL             10
      OT             17
      OX              7
      PE              6
      PF             31
      PP              7
      RM              2
      SH              1
      SS              1
1978  AH              1
      DM            389
      DO             22
      DS            320
      NL             48
      OL             47
      OT             66
      OX              1
      PE             17
      PF             40
      PM              3
      PP             24
      RM              3
      SA              2
      SH              1
      SS              8
1979  DM            209
      DO             31
      DS            204
      NL             30
      OL             46
      OT             68
      PE             17
      PF             19
      PM              6
      PP             20
      RM              6
      SS              2
1980  AB              5
      CB              1
      CM             12
      CQ              2
      DM            493
      DO             89
      DS            346
      DX              1
      NL             57
      OL             85
      OT             96
      PE             20
      PF             95
      PM              1
      PP             17
      RM             46
      SS              9
1981  AB              7
      CB              1
      CQ              4
      DM            559
      DO            123
      DS            354
      NL             63
      OL             55
      OT             65
      PE             43
      PF             59
      PM             16
      PP             20
      RM             29
      SA             11
      SS              8
1982  AB             34
      AH              1
      CQ              8
      DM            609
      DO            117
      DS            354
      NL            111
      OL             83
      OT             94
      OX              1
      PC              2
      PE            107
      PF            152
      PM             72
      PP             32
      RF              2
      RM            154
      SA             17
      SH              2
      SS             12
1983  AB             41
      AH              2
      CB              3
      DM            528
      DO            167
      DS            280
      DX              1
      NL             98
      OL             65
      OT             86
      PC              3
      PE             38
      PF            114
      PG              1
      PM             42
      PP             32
      RM            127
      SA             10
      SH              2
      SS             12
1984  AB             12
      AH              2
      CB              1
      CQ              2
      DM            396
      DO            108
      DS             76
      NL             64
      OL             71
      OT             49
      OX              1
      PE             20
      PF              7
      PH              7
      PM             12
      PP             26
      PU              2
      RM             60
      SA             20
      SS             15
1985  AB             14
      AH             14
      CB              1
      DM            667
      DO            225
      DS             98
      NL             45
      OL             94
      OT             62
      PE             51
      PF              1
      PH              3
      PM             17
      PP             35
      RM             72
      SA              3
      SS             14
1986  AB              5
      AH             19
      CB              4
      DM            406
      DO            115
      DS             88
      DX              1
      NL             60
      OL             43
      OT             25
      PE             26
      PF              2
      PH              1
      PM             34
      PP             26
      RM             53
      SA              1
      SH              1
      SS             12
1987  AB             35
      AH             41
      CB              5
      CM              1
      CV              1
      DM            469
      DO            213
      DS            104
      NL            128
      OL             79
      OT             43
      PC              5
      PE            142
      PF              4
      PM            133
      PP             45
      RM            189
      SA              1
      SH              5
      SS             20
      UP              2
      UR              3
1988  AB             39
      AH             26
      CB              6
      DM            365
      DO            144
      DS             54
      DX              1
      NL            102
      OL             51
      OT             86
      PE            190
      PF              2
      PG              2
      PH              1
      PM             54
      PP             53
      RF             11
      RM            211
      SA              1
      SH             31
      SS             20
      UL              1
      UP              3
      UR              1
      ZL              2
1989  AB             31
      AH             30
      BA              3
      CB              1
      CS              1
      DM            321
      DO            119
      DS             33
      NL             67
      OL             57
      OT            102
      OX              1
      PC              1
      PE            177
      PF             13
      PH              2
      PM             27
      PP             45
      RF             49
      RM            398
      SA              3
      SC              1
      SF              5
      SH             55
      SS             18
      UP              2
1990  AB             27
      AH             22
      BA             11
      DM            462
      DO            171
      DS             17
      NL             29
      OL             25
      OT             77
      PC              8
      PE             75
      PF             51
      PG              4
      PH              7
      PP             34
      RF             12
      RM            231
      SF             18
      SH              9
      SS              5
      UP              1
1991  AB             15
      AH             21
      AS              1
      BA             26
      CB              2
      DM            404
      DO            122
      DS             11
      DX              4
      NL             30
      OL             36
      OT            107
      PC              6
      PE             65
      PF             62
      PP             88
      RM            307
      RO              1
      SA              2
      SF              7
      SH              1
      SO             11
      SS              2
      UR              1
1992  AB             10
      AH             16
      BA              6
      CB              7
      DM            307
      DO             94
      DS             18
      DX             12
      NL             15
      OL             45
      OT             42
      PC              9
      PE             41
      PF             57
      PH              7
      PI              1
      PP            131
      RM            158
      SF              3
      SO             20
      SS              7
      UL              1
      UR              1
1993  AB              9
      AH             15
      AS              1
      CB              5
      CU              1
      DM            253
      DO             29
      DS             18
      DX              3
      NL             24
      OL             35
      OT             22
      OX              1
      PC              1
      PE             13
      PF             70
      PP            100
      RM            103
      SF              3
      SO              6
      SS              1
      ST              1
1994  AB              7
      AH             19
      CB              1
      DM            293
      DO             25
      DS              9
      DX              2
      NL             10
      OL             21
      OT             21
      PC              1
      PE              3
      PF             73
      PP             74
      PU              2
      RM             40
      SO              3
      SS              7
      SU              1
      UL              2
      UR              1
1995  AB              4
      AH             36
      CB              2
      DM            436
      DO             58
      DX              3
      NL              8
      OL             29
      OT             38
      PB              7
      PC              1
      PE             14
      PF            158
      PH              3
      PI              1
      PL              3
      PM              8
      PP            277
      PU              1
      RM             81
      RX              1
      SS              7
      SU              4
1996  AH             25
      DM            492
      DO            174
      DX              1
      NL              7
      OL             13
      OT            108
      PB             39
      PC              1
      PE             36
      PF            330
      PL              6
      PM             50
      PP            298
      PX              2
      RM             90
      SA              1
      SS             16
1997  AH             37
      CB              3
      DM            576
      DO            253
      DS              6
      NL             48
      OL              8
      OT            258
      PB            259
      PE             57
      PF            186
      PH              1
      PL             19
      PM            271
      PP            325
      PX              2
      RF              1
      RM            158
      RX              1
      SA              1
      SH              7
      SO              3
      SS             12
1998  AB              2
      AH             33
      CB              4
      CT              1
      DM            503
      DO            111
      DS              9
      DX              2
      NL             32
      OT            164
      PB            329
      PC              1
      PE             24
      PF             26
      PL              7
      PM            103
      PP            208
      PX              1
      RM             13
      SA              2
      SS             15
1999  AH             14
      DM            348
      DO             84
      DS              7
      DX              3
      NL             20
      OT            105
      PB            272
      PE              7
      PM             44
      PP            167
      RM             28
      SH              2
      SS              7
2000  AB              3
      AH             12
      DM            233
      DO             91
      DX              4
      NL             29
      OT            154
      PB            555
      PE             15
      PG              1
      PL              1
      PM              2
      PP            381
      PX              1
      RM             15
      SH              8
      SS              4
2001  AB              1
      AH             23
      CB              3
      DM            305
      DO             81
      DX              1
      NL             48
      OT            167
      PB            538
      PE             35
      PF             27
      PI              2
      PM              3
      PP            273
      RM             15
      SH             11
      SS              5
      UR              2
2002  AB              2
      AH             28
      DM            309
      DO            249
      DX              1
      NL             48
      OL              8
      OT            127
      PB            892
      PE             60
      PF             18
      PI              5
      PM              1
      PP            385
      RM             20
      RO              7
      SF              7
      SH             11
      SS              9
      UR              1
      US              4
Name: record_id, dtype: int64
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution to challenge 3 </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>What was the average weight of each species in each year?</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="co"># Mean weight by species and year</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>result <span class="op">=</span> surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>])[<span class="st">"weight"</span>].mean()</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="co"># Use the option_context context manager to show all rows</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>):</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>    <span class="bu">print</span>(result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year  species_id
1977  DM             41.141304
      DO             42.666667
      DS            121.437500
      NL                   NaN
      OL             21.666667
      OT             21.000000
      OX             21.333333
      PE             19.500000
      PF              7.173913
      PP             15.333333
      RM             10.000000
      SH                   NaN
      SS                   NaN
1978  AH                   NaN
      DM             40.795455
      DO             45.000000
      DS            115.198653
      NL            184.656250
      OL             31.027027
      OT             23.220000
      OX                   NaN
      PE             20.428571
      PF              7.088235
      PM             20.666667
      PP             14.869565
      RM              7.500000
      SA                   NaN
      SH             89.000000
      SS            130.000000
1979  DM             43.507317
      DO             45.862069
      DS            111.796954
      NL            138.000000
      OL             33.717391
      OT             23.075758
      PE             20.529412
      PF              7.529412
      PM             23.666667
      PP             15.105263
      RM              8.333333
      SS                   NaN
1980  AB                   NaN
      CB                   NaN
      CM                   NaN
      CQ                   NaN
      DM             44.136082
      DO             48.058824
      DS            120.725664
      DX                   NaN
      NL            158.982143
      OL             33.107143
      OT             24.083333
      PE             22.450000
      PF              7.455556
      PM             21.000000
      PP             14.176471
      RM             10.227273
      SS                   NaN
1981  AB                   NaN
      CB                   NaN
      CQ                   NaN
      DM             44.032907
      DO             49.111111
      DS            125.818444
      NL            165.903226
      OL             33.296296
      OT             24.415385
      PE             20.558140
      PF              7.152542
      PM             19.933333
      PP             13.950000
      RM             11.178571
      SA                   NaN
      SS             57.000000
1982  AB                   NaN
      AH                   NaN
      CQ                   NaN
      DM             41.975042
      DO             47.919643
      DS            115.647929
      NL            160.613208
      OL             35.590361
      OT             24.925532
      OX             24.000000
      PC                   NaN
      PE             21.173077
      PF              6.918919
      PM             21.391304
      PP             16.125000
      RF             11.500000
      RM             10.436242
      SA                   NaN
      SH             79.000000
      SS                   NaN
1983  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             40.944551
      DO             47.150602
      DS            122.033088
      DX                   NaN
      NL            156.691489
      OL             34.584615
      OT             24.697674
      PC                   NaN
      PE             20.864865
      PF              6.833333
      PG                   NaN
      PM             22.023810
      PP             15.468750
      RM              9.872000
      SA                   NaN
      SH                   NaN
      SS                   NaN
1984  AB                   NaN
      AH                   NaN
      CB                   NaN
      CQ                   NaN
      DM             40.765306
      DO             48.415094
      DS            124.082192
      NL            150.095238
      OL             32.550725
      OT             22.416667
      OX             18.000000
      PE             20.210526
      PF              7.428571
      PH             28.000000
      PM             19.545455
      PP             15.307692
      PU                   NaN
      RM             11.152542
      SA                   NaN
      SS                   NaN
1985  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             41.507645
      DO             47.956731
      DS            124.326316
      NL            148.829268
      OL             32.108696
      OT             22.064516
      PE             20.360000
      PF                   NaN
      PH             32.666667
      PM             19.000000
      PP             15.764706
      RM              8.371429
      SA                   NaN
      SS                   NaN
1986  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             43.361596
      DO             49.372727
      DS            128.071429
      DX                   NaN
      NL            159.724138
      OL             30.880952
      OT             21.500000
      PE             22.520000
      PF              8.000000
      PH             39.000000
      PM             21.696970
      PP             16.750000
      RM             10.750000
      SA                   NaN
      SH             55.000000
      SS                   NaN
1987  AB                   NaN
      AH                   NaN
      CB                   NaN
      CM                   NaN
      CV                   NaN
      DM             43.232609
      DO             50.087379
      DS            126.383838
      NL            158.840000
      OL             30.779221
      OT             23.069767
      PC                   NaN
      PE             21.625899
      PF              7.500000
      PM             22.297710
      PP             17.840909
      RM             10.657609
      SA                   NaN
      SH             73.800000
      SS                   NaN
      UP                   NaN
      UR                   NaN
1988  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             43.397790
      DO             51.463768
      DS            129.490566
      DX                   NaN
      NL            163.104167
      OL             30.306122
      OT             24.070588
      PE             22.625668
      PF              8.000000
      PG                   NaN
      PH             33.000000
      PM             21.759259
      PP             18.280000
      RF             13.818182
      RM             10.322115
      SA                   NaN
      SH             72.806452
      SS                   NaN
      UL                   NaN
      UP                   NaN
      UR                   NaN
      ZL                   NaN
1989  AB                   NaN
      AH                   NaN
      BA              7.000000
      CB                   NaN
      CS                   NaN
      DM             44.349206
      DO             51.025641
      DS            121.896552
      NL            151.278689
      OL             31.947368
      OT             24.663366
      OX             20.000000
      PC                   NaN
      PE             21.935673
      PF              7.230769
      PH             30.500000
      PM             20.222222
      PP             17.409091
      RF             13.346939
      RM             10.411311
      SA                   NaN
      SC                   NaN
      SF             54.800000
      SH             76.345455
      SS                   NaN
      UP                   NaN
1990  AB                   NaN
      AH                   NaN
      BA              8.000000
      DM             41.769912
      DO             48.512048
      DS            121.187500
      NL            154.275862
      OL             31.200000
      OT             23.675325
      PC                   NaN
      PE             21.671233
      PF              7.117647
      PG                   NaN
      PH             31.142857
      PP             16.029412
      RF             12.916667
      RM             10.305677
      SF             52.611111
      SH             76.888889
      SS                   NaN
      UP                   NaN
1991  AB                   NaN
      AH                   NaN
      AS                   NaN
      BA              9.240000
      CB                   NaN
      DM             43.148338
      DO             49.695652
      DS            113.000000
      DX                   NaN
      NL            148.785714
      OL             28.171429
      OT             24.588235
      PC                   NaN
      PE             21.435484
      PF              7.827586
      PP             17.904762
      RM             10.498305
      RO             11.000000
      SA                   NaN
      SF             93.166667
      SH             63.000000
      SO             53.909091
      SS                   NaN
      UR                   NaN
1992  AB                   NaN
      AH                   NaN
      BA              7.833333
      CB                   NaN
      DM             43.877966
      DO             48.367816
      DS            112.352941
      DX                   NaN
      NL            139.000000
      OL             28.454545
      OT             24.928571
      PC                   NaN
      PE             22.750000
      PF              8.767857
      PH             31.142857
      PI             18.000000
      PP             17.479675
      RM             10.904762
      SF             43.000000
      SO             55.263158
      SS                   NaN
      UL                   NaN
      UR                   NaN
1993  AB                   NaN
      AH                   NaN
      AS                   NaN
      CB                   NaN
      CU                   NaN
      DM             43.373984
      DO             48.461538
      DS            105.722222
      DX                   NaN
      NL            127.391304
      OL             27.545455
      OT             22.363636
      OX                   NaN
      PC                   NaN
      PE             19.230769
      PF              8.238806
      PP             17.954023
      RM             10.747475
      SF             44.000000
      SO             55.600000
      SS                   NaN
      ST                   NaN
1994  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             42.373288
      DO             47.750000
      DS            106.625000
      DX                   NaN
      NL            186.875000
      OL             21.900000
      OT             25.285714
      PC                   NaN
      PE             18.000000
      PF              7.855072
      PP             17.585714
      PU                   NaN
      RM             10.675000
      SO             62.333333
      SS                   NaN
      SU                   NaN
      UL                   NaN
      UR                   NaN
1995  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             44.806147
      DO             49.592593
      DX                   NaN
      NL            155.833333
      OL             27.296296
      OT             24.868421
      PB             34.000000
      PC                   NaN
      PE             21.230769
      PF              8.780645
      PH             35.333333
      PI                   NaN
      PL             22.333333
      PM             27.375000
      PP             16.844444
      PU                   NaN
      RM             12.653846
      RX             20.000000
      SS                   NaN
      SU                   NaN
1996  AH                   NaN
      DM             44.506173
      DO             47.234940
      DX                   NaN
      NL            148.000000
      OL             27.769231
      OT             23.453704
      PB             32.578947
      PC                   NaN
      PE             22.027778
      PF              8.393846
      PL             21.166667
      PM             20.224490
      PP             18.095563
      PX                   NaN
      RM             11.455556
      SA                   NaN
      SS                   NaN
1997  AH                   NaN
      CB                   NaN
      DM             44.708551
      DO             48.177866
      DS            111.000000
      NL            150.688889
      OL             33.625000
      OT             24.785156
      PB             31.085603
      PE             20.929825
      PF              8.448649
      PH             22.000000
      PL             18.789474
      PM             21.126394
      PP             18.175000
      PX             19.000000
      RF             20.000000
      RM             11.230769
      RX             11.000000
      SA                   NaN
      SH             50.857143
      SO             54.666667
      SS                   NaN
1998  AB                   NaN
      AH                   NaN
      CB                   NaN
      CT                   NaN
      DM             43.131403
      DO             49.731183
      DS            116.000000
      DX                   NaN
      NL            159.466667
      OT             24.675676
      PB             30.082237
      PC                   NaN
      PE             20.304348
      PF              8.720000
      PL             16.714286
      PM             20.591398
      PP             16.266990
      PX                   NaN
      RM             13.100000
      SA                   NaN
      SS                   NaN
1999  AH                   NaN
      DM             43.945402
      DO             48.012048
      DS            120.714286
      DX                   NaN
      NL            182.200000
      OT             25.723810
      PB             31.710037
      PE             25.428571
      PM             22.523810
      PP             16.521212
      RM             10.555556
      SH             54.000000
      SS                   NaN
2000  AB                   NaN
      AH                   NaN
      DM             43.126638
      DO             49.224719
      DX                   NaN
      NL            179.307692
      OT             25.303448
      PB             30.878899
      PE             21.615385
      PG                   NaN
      PL             21.000000
      PM             20.500000
      PP             16.788618
      PX                   NaN
      RM             11.400000
      SH             73.375000
      SS                   NaN
2001  AB                   NaN
      AH                   NaN
      CB                   NaN
      DM             45.442177
      DO             52.233766
      DX                   NaN
      NL            167.851064
      OT             23.707792
      PB             32.798851
      PE             20.400000
      PF              8.538462
      PI             18.000000
      PM             26.666667
      PP             17.752896
      RM             11.333333
      SH             79.900000
      SS                   NaN
      UR                   NaN
2002  AB                   NaN
      AH                   NaN
      DM             46.168317
      DO             49.514403
      DX                   NaN
      NL            182.159091
      OL             25.428571
      OT             23.833333
      PB             32.359447
      PE             21.719298
      PF              7.388889
      PI             20.000000
      PM             19.000000
      PP             17.018617
      RM             10.000000
      RO             10.142857
      SF             62.166667
      SH             64.666667
      SS                   NaN
      UR                   NaN
      US                   NaN
Name: weight, dtype: float64
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution to challenge 4 </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>How many individuals were counted for each species that was observed
more than 10 times?</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Counts by species that appear more than 10 times</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>species <span class="op">=</span> surveys.groupby(<span class="st">"species_id"</span>)[<span class="st">"record_id"</span>].count()</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>species[species <span class="op">&gt;</span> <span class="dv">10</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id
AB      303
AH      437
BA       46
CB       50
CM       13
CQ       16
DM    10596
DO     3027
DS     2504
DX       40
NL     1252
OL     1006
OT     2249
OX       12
PB     2891
PC       39
PE     1299
PF     1597
PH       32
PL       36
PM      899
PP     3123
RF       75
RM     2609
SA       75
SF       43
SH      147
SO       43
SS      248
Name: record_id, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution to challenges 2 and 3 combined </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Calculate the number of individuals observed and the average weight
for each species in each year.</p>
<p>Note that weight contains NaNs, so counts for record_id and weight
differ.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Counts and mean weight by species and year</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>]).agg(</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>    {<span class="st">"record_id"</span>: <span class="st">"count"</span>, <span class="st">"weight"</span>: [<span class="st">"count"</span>, <span class="st">"mean"</span>]}</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead>
<tr>
<th>
</th>
<th>
</th>
<th>
record_id
</th>
<th colspan="2" halign="left">
weight
</th>
</tr>
<tr>
<th>
</th>
<th>
</th>
<th>
count
</th>
<th>
count
</th>
<th>
mean
</th>
</tr>
<tr>
<th>
year
</th>
<th>
species_id
</th>
<th>
</th>
<th>
</th>
<th>
</th>
</tr>
</thead>
<tbody>
<tr>
<th rowspan="5" valign="top">
1977
</th>
<th>
DM
</th>
<td>
264
</td>
<td>
184
</td>
<td>
41.141304
</td>
</tr>
<tr>
<th>
DO
</th>
<td>
12
</td>
<td>
12
</td>
<td>
42.666667
</td>
</tr>
<tr>
<th>
DS
</th>
<td>
98
</td>
<td>
32
</td>
<td>
121.437500
</td>
</tr>
<tr>
<th>
NL
</th>
<td>
31
</td>
<td>
0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
OL
</th>
<td>
10
</td>
<td>
3
</td>
<td>
21.666667
</td>
</tr>
<tr>
<th>
…
</th>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th rowspan="5" valign="top">
2002
</th>
<th>
SF
</th>
<td>
7
</td>
<td>
6
</td>
<td>
62.166667
</td>
</tr>
<tr>
<th>
SH
</th>
<td>
11
</td>
<td>
9
</td>
<td>
64.666667
</td>
</tr>
<tr>
<th>
SS
</th>
<td>
9
</td>
<td>
0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
UR
</th>
<td>
1
</td>
<td>
0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
US
</th>
<td>
4
</td>
<td>
0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
509 rows × 3 columns
</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="handling-missing-data">Handling missing data<a class="anchor" aria-label="anchor" href="#handling-missing-data"></a>
</h2>
<hr class="half-width">
<p>As we’ve discussed, some columns in the surveys dataframe have the
value NaN instead of text or numbers. NaN, short for “not a number,” is
a special type of float used by pandas to represent missing data. When
reading from a CSV, pandas interpret certains values as NaN. NaNs are
excluded from groups and most aggregation calculations in pandas. Below,
we’ll see how they can also cause issues when plotting.</p>
<div id="defaults" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="defaults" class="callout-inner">
<h3 class="callout-title">Defaults</h3>
<div class="callout-content">
<p>See <em>na_values</em> in the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" class="external-link">pd.read_csv()
documentation</a> for the values that pandas interprets as NaN by
default.</p>
</div>
</div>
</div>
<p>When analyzing a dataset, it is critical to understand how missing
data is represented. Failing to do so may introduce errors into the
analysis. The ecology dataset used in this lesson uses empty cells to
represent missing data, but other disciplines have different
conventions. For example, some geographic datasets use -9999 to
represent null values. Failure to convert such values to NaN will result
in significant errors on any calculations performed on that dataset.</p>
<p>In some cases, it can be useful to fill in cells containing NaN with
a non-null value. Recall that the <code>groupby()</code> method excludes
NaN cells. When looking at sex, the following code counts only those
cells with either F (female) or M (male):</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>surveys.groupby(<span class="st">"sex"</span>)[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sex
F    15690
M    17348
Name: record_id, dtype: int64</code></pre>
</div>
<p>But not all records specify a sex. To include records where sex was
not specified, we can use the <code>fillna()</code> method on the sex
column. This method replaces each NaN with the first argument passed to
the function call. To replace all NaN values in sex with “U”, use:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>surveys[<span class="st">"sex"</span>] <span class="op">=</span> surveys[<span class="st">"sex"</span>].fillna(<span class="st">"U"</span>)</span></code></pre>
</div>
<p>The aggregation calculation now includes all records in the
dataframe:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>surveys.groupby(<span class="st">"sex"</span>)[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sex
F    15690
M    17348
U     2511
Name: record_id, dtype: int64</code></pre>
</div>
<p>In other cases, we may want to ignore rows that contain NaNs. This
can be done using <code>dropna()</code>:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>surveys <span class="op">=</span> surveys.dropna()</span></code></pre>
</div>
<p>This method returns a copy of the dataframe containing only those
rows that have non-NaN data in every field.</p>
</section><section><h2 class="section-heading" id="visualizing-groups-and-statistics">Visualizing groups and statistics<a class="anchor" aria-label="anchor" href="#visualizing-groups-and-statistics"></a>
</h2>
<hr class="half-width">
<p>Plots can be a useful way to identify patterns, commonalities, and
differences within a dataset. For example, they can use color, shape,
and size to highlight features of interest. Plotly allows us to style
the markers on a scatter plot in much the same way as we selected x and
y variables to plot at the end of the last lesson. To color the markers
on a scatter plot based on species_id, we can use the color keyword
argument:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a>px.scatter(surveys, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, color<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-6c9b8a7490eacbd3c686340a3a0e8134.html" width="760" height="570"><p>Now we have a much more colorful plot that shows more clearly how the
sizes of individual species produce some of the patterns we noted
earlier on the single-color plot. When hovering over a point, we can now
quickly see the exact weight, hindfoot length, and species_id (although
it remains unclear exactly what each ID means).</p>
<p>Scatter plots help us understand how parameters within a dataset
covary. Other plots, like box and violin plots, can be used to show the
distribution of a single parameter. Plotly can create a box plot using
almost the same syntax that we used above to create the scatter plot.
Let’s make one for hindfoot length by changing the method to
<code>px.box()</code> and changing the x variable to
<code>species_id</code>:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>px.box(surveys, x<span class="op">=</span><span class="st">"species_id"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, color<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-81b50ac778849616cb1b3c826a32b9de.html" width="760" height="570"><p>By default, this plot includes boxes (which show the distribution of
each species) and points (for outliers). When we hover over any of the
boxes on the plot above, the tooltip now shows aggregate statistics for
the species, including the minimum, median, maximum, upper, Q1, Q3,
upper fence, and lower fence values for hindfoot length.</p>
<p>Aesthetically, these plots could still use some work. They list
species in an arbitrary order, repeat colors, and include species with
no associated data. We’ll return to this plot in <a href="06-visualizing-data.html">lesson 6</a> to look at how we can
address those issues.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Calculate individual summary statistics using dataframe methods like
<code>mean()</code>, <code>max()</code>, and <code>min()</code>
</li>
<li>Calculate multiple summary statistics at once using the dataframe
methods <code>describe()</code> and <code>agg()</code>
</li>
<li>Group data by one or more columns using the <code>groupby()</code>
method</li>
<li>Failing to consider how missing data is interpreted in a dataset can
introduce significant errors</li>
<li>Box plots can be used to visualize the distribution of a single
parameter</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</embed></embed></section></section><section id="aio-05-combining-data"><p>Content from <a href="05-combining-data.html">Combining Dataframes</a></p>
<hr>
<p>Last updated on 2025-07-03 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/05-combining-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we combine data from multiple sources using pandas?</li>
<li>How do we add data to an existing dataframe?</li>
<li>How do we combine columns within a single dataframe?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use <code>pd.merge()</code> to add related columns to a
dataframe</li>
<li>Use <code>pd.concat()</code> to add rows to a dataframe</li>
<li>Combine text columns</li>
<li>Combine year, month, and day columns into a <code>datetime64</code>
object</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Dataframes can be used to organize and group data by common
characteristics. Often, we need to combine elements from separate
dataframes into one for analysis and visualization. Likewise, we may
need to append data collected under different circumstances. In this
chapter, we will show how to merge, concatenate, and combine data using
pandas.</p>
<section><h2 class="section-heading" id="merging-dataframes">Merging dataframes<a class="anchor" aria-label="anchor" href="#merging-dataframes"></a>
</h2>
<hr class="half-width">
<p>The survey dataframe we’ve been using throughout this lesson has a
column called species_id. We used this column in the previous lesson to
calculate summary statistics about observations of each species. But the
species_id is just a two-letter code. Without knowing what each code
represents, we can’t really understand, describe, or even properly label
the observations. We need a way to go from the code to more detailed
species information.</p>
<div id="managing-repetitive-data" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="managing-repetitive-data" class="callout-inner">
<h3 class="callout-title">Managing repetitive data</h3>
<div class="callout-content">
<p>Why store species data in a separate table in the first place?
Species information is repetitive: Every observation of the same species
has the same genus, species, and taxa. Storing it in the original survey
table would require including that data in every record, increasing both
the size of the table and the likelihood of errors. Storing that data in
a separate table means we only have to enter and validate it once. A
tool like pandas then allows us to access the authoratative data when we
need it.</p>
</div>
</div>
</div>
<p>We can enhance the species data in the dataframe using an
authoratative dataset that contains the taxonomic information associated
with each species. This data is stored in the species.csv file, which
can be loaded using <code>pd.read_csv()</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>species <span class="op">=</span> pd.read_csv(<span class="st">"data/species.csv"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>species</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
species_id
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
AB
</td>
<td>
Amphispiza
</td>
<td>
bilineata
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
1
</th>
<td>
AH
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
AS
</td>
<td>
Ammodramus
</td>
<td>
savannarum
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
3
</th>
<td>
BA
</td>
<td>
Baiomys
</td>
<td>
taylori
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
CB
</td>
<td>
Campylorhynchus
</td>
<td>
brunneicapillus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
5
</th>
<td>
CM
</td>
<td>
Calamospiza
</td>
<td>
melanocorys
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
6
</th>
<td>
CQ
</td>
<td>
Callipepla
</td>
<td>
squamata
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
7
</th>
<td>
CS
</td>
<td>
Crotalus
</td>
<td>
scutalatus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
8
</th>
<td>
CT
</td>
<td>
Cnemidophorus
</td>
<td>
tigris
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
9
</th>
<td>
CU
</td>
<td>
Cnemidophorus
</td>
<td>
uniparens
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
10
</th>
<td>
CV
</td>
<td>
Crotalus
</td>
<td>
viridis
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
11
</th>
<td>
DM
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
12
</th>
<td>
DO
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
13
</th>
<td>
DS
</td>
<td>
Dipodomys
</td>
<td>
spectabilis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
14
</th>
<td>
DX
</td>
<td>
Dipodomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
15
</th>
<td>
EO
</td>
<td>
Eumeces
</td>
<td>
obsoletus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
16
</th>
<td>
GS
</td>
<td>
Gambelia
</td>
<td>
silus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
17
</th>
<td>
NL
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
18
</th>
<td>
NX
</td>
<td>
Neotoma
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
19
</th>
<td>
OL
</td>
<td>
Onychomys
</td>
<td>
leucogaster
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
20
</th>
<td>
OT
</td>
<td>
Onychomys
</td>
<td>
torridus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
21
</th>
<td>
OX
</td>
<td>
Onychomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
22
</th>
<td>
PB
</td>
<td>
Chaetodipus
</td>
<td>
baileyi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
23
</th>
<td>
PC
</td>
<td>
Pipilo
</td>
<td>
chlorurus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
24
</th>
<td>
PE
</td>
<td>
Peromyscus
</td>
<td>
eremicus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
25
</th>
<td>
PF
</td>
<td>
Perognathus
</td>
<td>
flavus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
26
</th>
<td>
PG
</td>
<td>
Pooecetes
</td>
<td>
gramineus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
27
</th>
<td>
PH
</td>
<td>
Perognathus
</td>
<td>
hispidus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
28
</th>
<td>
PI
</td>
<td>
Chaetodipus
</td>
<td>
intermedius
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
29
</th>
<td>
PL
</td>
<td>
Peromyscus
</td>
<td>
leucopus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
30
</th>
<td>
PM
</td>
<td>
Peromyscus
</td>
<td>
maniculatus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
31
</th>
<td>
PP
</td>
<td>
Chaetodipus
</td>
<td>
penicillatus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
32
</th>
<td>
PU
</td>
<td>
Pipilo
</td>
<td>
fuscus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
33
</th>
<td>
PX
</td>
<td>
Chaetodipus
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34
</th>
<td>
RF
</td>
<td>
Reithrodontomys
</td>
<td>
fulvescens
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35
</th>
<td>
RM
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
36
</th>
<td>
RO
</td>
<td>
Reithrodontomys
</td>
<td>
montanus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
37
</th>
<td>
RX
</td>
<td>
Reithrodontomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
38
</th>
<td>
SA
</td>
<td>
Sylvilagus
</td>
<td>
audubonii
</td>
<td>
Rabbit
</td>
</tr>
<tr>
<th>
39
</th>
<td>
SB
</td>
<td>
Spizella
</td>
<td>
breweri
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
40
</th>
<td>
SC
</td>
<td>
Sceloporus
</td>
<td>
clarki
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
41
</th>
<td>
SF
</td>
<td>
Sigmodon
</td>
<td>
fulviventer
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
42
</th>
<td>
SH
</td>
<td>
Sigmodon
</td>
<td>
hispidus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
43
</th>
<td>
SO
</td>
<td>
Sigmodon
</td>
<td>
ochrognathus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
44
</th>
<td>
SS
</td>
<td>
Spermophilus
</td>
<td>
spilosoma
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
45
</th>
<td>
ST
</td>
<td>
Spermophilus
</td>
<td>
tereticaudus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
46
</th>
<td>
SU
</td>
<td>
Sceloporus
</td>
<td>
undulatus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
47
</th>
<td>
SX
</td>
<td>
Sigmodon
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
48
</th>
<td>
UL
</td>
<td>
Lizard
</td>
<td>
sp.
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
49
</th>
<td>
UP
</td>
<td>
Pipilo
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
50
</th>
<td>
UR
</td>
<td>
Rodent
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
51
</th>
<td>
US
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
52
</th>
<td>
ZL
</td>
<td>
Zonotrichia
</td>
<td>
leucophrys
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
53
</th>
<td>
ZM
</td>
<td>
Zenaida
</td>
<td>
macroura
</td>
<td>
Bird
</td>
</tr>
</tbody>
</table>
<p>We can see that the species dataframe includes the genus, species,
and taxon for each species_id. This is much more useful than the
species_id included in the original dataframe—how can we integrate that
data into our surveys dataframe? Adding it by hand would be tedious and
error prone. Fortunately, pandas provides the <code>pd.merge()</code>
function to join two dataframes. We’ll assigned the new, merged
dataframe to the variable merged:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>merged <span class="op">=</span> surveys.merge(species)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>merged</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 12 columns
</p>
<p>Following the merge, the genus, species, and taxa columns have all
been added to the survey dataframe. We can now use those columns to
filter and summarize our data.</p>
<div id="joins" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="joins" class="callout-inner">
<h3 class="callout-title">Joins</h3>
<div class="callout-content">
<p>The <code>merge()</code> method performs the same function as joins
in SQL</p>
</div>
</div>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>We previously described the dataset as consisting of observations of
rodents. That’s mostly true, but observations of other animals are also
included. Based on the merged dataframe, what other types of animals are
present in the dataframe? We are interesed in the <em>type</em> of
animal, not the Latin name.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>merged[merged[<span class="st">"taxa"</span>] <span class="op">!=</span> <span class="st">"Rodent"</span>][<span class="st">"taxa"</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['Rabbit', 'Bird', 'Reptile'], dtype=object)</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>In the example above, we didn’t provide any information about how we
wanted to merge the dataframes together, so pandas made an educated
guess by looking at the columns in each of the dataframes and merging
them on the only column that appeared in both datasets, species_id. For
more complex tables, we may need more control over the operation, for
example, by specifiying the exact columns we want to merge on. We can do
that by passing one or more column names using the <em>on</em> keyword
argument:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>surveys.merge(species, on<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 12 columns
</p>
<p>It’s not necessary here, but we can also merge datasets where the
common data is stored in columns with different names. To do so, we’d
use the left_on (to specify the column name in the first dataframe) and
right_on (to specify the column name in the second dataframe).</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>surveys.merge(species, left_on<span class="op">=</span><span class="st">"species_id"</span>, right_on<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 12 columns
</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Compare the number of rows in the original and merged survey
dataframes. How do they differ? Why might that be?</p>
<p><strong>Hint:</strong> Use <code>pd.unique()</code> method to look at
the species_id column in each dataframe.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>pd.unique(surveys[<span class="st">"species_id"</span>].sort_values())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['AB', 'AH', 'AS', 'BA', 'CB', 'CM', 'CQ', 'CS', 'CT', 'CU', 'CV',
       'DM', 'DO', 'DS', 'DX', 'NL', 'OL', 'OT', 'OX', 'PB', 'PC', 'PE',
       'PF', 'PG', 'PH', 'PI', 'PL', 'PM', 'PP', 'PU', 'PX', 'RF', 'RM',
       'RO', 'RX', 'SA', 'SC', 'SF', 'SH', 'SO', 'SS', 'ST', 'SU', 'UL',
       'UP', 'UR', 'US', 'ZL', nan], dtype=object)</code></pre>
</div>
<p>The merged dataframe omits rows with no value in the species_id
column.</p>
</div>
</div>
</div>
</div>
<p>The number of rows in the merged dataframe is lower than in the
original surveys dataframe. By default, <code>merge()</code> performs an
<strong>inner join</strong>. This means that a row will only appear in
the merged dataframe if the value(s) in the join column(s) appear in
both dataframes. Here, observations that did not include a species_id or
that included a species_id that was not definedin the species dataframe
were dropped.</p>
<p>This is not always desirable behavior. Fortunately, pandas supports
other kinds of merges:</p>
<ul>
<li>
<strong>Inner:</strong> Include all rows with common values in the
join columns. This is the default behavior.</li>
<li>
<strong>Left:</strong> Include all rows from the left dataframe.
Columns from the right dataframe are populated if a common value exists
and set to NaN if not.</li>
<li>
<strong>Right:</strong> Include all rows from the right dataframe.
Columns from the left dataframe are populated if a common value exists
and set to NaN if not.</li>
<li>
<strong>Outer:</strong> Include all rows from both dataframes</li>
</ul>
<p>We want to keep all of the observations, so let’s do a left join
instead. To specify the type of merge, we use the <em>how</em> keyword
argument:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>surveys.merge(species, how<span class="op">=</span><span class="st">"left"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 12 columns
</p>
<p>Now all 35,549 rows appear in the merged dataframe.</p>
</section><section><h2 class="section-heading" id="appending-rows-to-a-dataframe">Appending rows to a dataframe<a class="anchor" aria-label="anchor" href="#appending-rows-to-a-dataframe"></a>
</h2>
<hr class="half-width">
<p>Merges address the case where information for a set of observations
is spread across multiple files. What about when the observations
themselves are in more than one file? For a survey like the one we’ve
been looking at in this lesson, we might get a new file once a year with
the same columns but a completely new set of observations. How can we
add those new observations to our dataframe?</p>
<p>We’ll simulate this operation by splitting data from two different
years, 2001 and 2002, into separate dataframes. We can filter the
dataset this using conditionals, as we saw in lesson 3:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>surveys_2001 <span class="op">=</span> surveys[surveys[<span class="st">"year"</span>] <span class="op">==</span> <span class="dv">2001</span>].copy()</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>surveys_2001</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
33315
</th>
<td>
33316
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
11
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33316
</th>
<td>
33317
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
13
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33317
</th>
<td>
33318
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
14
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33318
</th>
<td>
33319
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
15
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33319
</th>
<td>
33320
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
16
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
1610 rows × 9 columns
</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>surveys_2002 <span class="op">=</span> surveys[surveys[<span class="st">"year"</span>] <span class="op">==</span> <span class="dv">2002</span>].copy()</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>surveys_2002</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
33320
</th>
<td>
33321
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
33321
</th>
<td>
33322
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
58.0
</td>
</tr>
<tr>
<th>
33322
</th>
<td>
33323
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
28.0
</td>
<td>
45.0
</td>
</tr>
<tr>
<th>
33323
</th>
<td>
33324
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
AB
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33324
</th>
<td>
33325
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
29.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
2229 rows × 9 columns
</p>
<p>We now have two different dataframes with the same columns but
different data, one with 1,610 rows, the other with 2,229 rows, for a
total of 3,839 records. We can combine them into a new dataframe using
<code>pd.concat()</code>, which stacks the dataframes vertically (that
is, it adds records from one dataset to the end of another). This method
accepts a list of dataframes and works from left to right (so the
leftmost dataframe will be at the top of the new dataframe and the
rightmost will be at the bottom). We’re only combining two dataframes
here but could include more if necessary.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>surveys_2001_2002 <span class="op">=</span> pd.concat([surveys_2001, surveys_2002])</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>surveys_2001_2002</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
3839 rows × 9 columns
</p>
<p>The combined dataframe includes all rows from both dataframes.</p>
<p>In some cases, the exact columns may change from year to year even
within the same project. For example, researchers may decide to add an
additional column to track a new piece of data or to provide a quality
check. If a column is present in only one dataset, you can still
concatenate the datasets. Any column that does not appear in a given
dataset will have the value NaN for those rows in the combined
dataframe.</p>
<p>To illustrate this, we’ll add a column called test to the 2002
survey, then re-run <code>pd.concat()</code>:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>surveys_2002[<span class="st">"test"</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>surveys_2001_2002 <span class="op">=</span> pd.concat([surveys_2001, surveys_2002])</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>surveys_2001_2002</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
test
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
</tbody>
</table>
<p>
3839 rows × 10 columns
</p>
<p>As expected, the test column has a value of NaN for the 2001 data in
the combined dataframe.</p>
</section><section><h2 class="section-heading" id="combining-data-in-multiple-columns">Combining data in multiple columns<a class="anchor" aria-label="anchor" href="#combining-data-in-multiple-columns"></a>
</h2>
<hr class="half-width">
<p>Sometimes we want to combine values from two or more columns into a
single column. For example, we might want to refer to the species in
each record by both its genus and species names. In Python, we use the
<code>+</code> operator to concatenate (or join) strings, and pandas
works the same way:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>species[<span class="st">"genus_species"</span>] <span class="op">=</span> species[<span class="st">"genus"</span>] <span class="op">+</span> <span class="st">" "</span> <span class="op">+</span> species[<span class="st">"species"</span>]</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>species[<span class="st">"genus_species"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0                Amphispiza bilineata
1            Ammospermophilus harrisi
2               Ammodramus savannarum
3                     Baiomys taylori
4     Campylorhynchus brunneicapillus
5             Calamospiza melanocorys
6                 Callipepla squamata
7                 Crotalus scutalatus
8                Cnemidophorus tigris
9             Cnemidophorus uniparens
10                   Crotalus viridis
11                 Dipodomys merriami
12                    Dipodomys ordii
13              Dipodomys spectabilis
14                      Dipodomys sp.
15                  Eumeces obsoletus
16                     Gambelia silus
17                   Neotoma albigula
18                        Neotoma sp.
19              Onychomys leucogaster
20                 Onychomys torridus
21                      Onychomys sp.
22                Chaetodipus baileyi
23                   Pipilo chlorurus
24                Peromyscus eremicus
25                 Perognathus flavus
26                Pooecetes gramineus
27               Perognathus hispidus
28            Chaetodipus intermedius
29                Peromyscus leucopus
30             Peromyscus maniculatus
31           Chaetodipus penicillatus
32                      Pipilo fuscus
33                    Chaetodipus sp.
34         Reithrodontomys fulvescens
35          Reithrodontomys megalotis
36           Reithrodontomys montanus
37                Reithrodontomys sp.
38               Sylvilagus audubonii
39                   Spizella breweri
40                  Sceloporus clarki
41               Sigmodon fulviventer
42                  Sigmodon hispidus
43              Sigmodon ochrognathus
44             Spermophilus spilosoma
45          Spermophilus tereticaudus
46               Sceloporus undulatus
47                       Sigmodon sp.
48                         Lizard sp.
49                         Pipilo sp.
50                         Rodent sp.
51                        Sparrow sp.
52             Zonotrichia leucophrys
53                   Zenaida macroura
Name: genus_species, dtype: object</code></pre>
</div>
<p>Note that the <code>+</code> operator can also be used to add numeric
columns. In Python, the same operator can be used to perform different
operations for different data types.</p>
</section><section><h2 class="section-heading" id="combining-dates">Combining dates<a class="anchor" aria-label="anchor" href="#combining-dates"></a>
</h2>
<hr class="half-width">
<p>Another common need is to join or split dates. In the ecology
dataset, the date of each observation is split across year, month, and
day columns. However, pandas has a special data type,
<code>datetime64</code>, for representing dates that can be useful for
analyzing time series data. To make use of that functionality, we can
use <code>pd.to_datetime()</code> method to create a datetime
object:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>surveys[<span class="st">"date"</span>] <span class="op">=</span> pd.to_datetime(surveys[[<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>]])</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>surveys[<span class="st">"date"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0       1977-07-16
1       1977-07-16
2       1977-07-16
3       1977-07-16
4       1977-07-16
           ...
35544   2002-12-31
35545   2002-12-31
35546   2002-12-31
35547   2002-12-31
35548   2002-12-31
Name: date, Length: 35549, dtype: datetime64[ns]</code></pre>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Pandas allows us to ask specific questions about our data. A key
skill is knowing how to translate our scientific questions into a
sensible approach (and subsequently visualize and interpret our
results).</p>
<p>Try using pandas to answer the following questions.</p>
<ol style="list-style-type: decimal">
<li>How many specimens of each sex are there for each year, including
those whose sex is unknown?</li>
<li>What is the average weight of each taxa?</li>
<li>What are the minimum, maximum and average weight for each species of
Rodent?</li>
<li>What is the average hindfoot length for male and female rodent of
each species? Is there a male/female difference?</li>
<li>What is the average weight of each rodent species over the course of
the years? Is there any noticeable trend for any of the species?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution to challenge 1 </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>How many specimens of each sex are there for each year, including
those whose sex is unknown?</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># Fill in NaN values in sex with U</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>surveys[<span class="st">"sex"</span>] <span class="op">=</span> surveys[<span class="st">"sex"</span>].fillna(<span class="st">"U"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a><span class="co"># Count records by sex</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>result <span class="op">=</span> surveys.groupby([<span class="st">"year"</span>, <span class="st">"sex"</span>])[<span class="st">"record_id"</span>].count()</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a><span class="co"># Use the option_context context manager to show all rows</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>):</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>    <span class="bu">print</span>(result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year  sex
1977  F       204
      M       214
      U        85
1978  F       503
      M       433
      U       112
1979  F       327
      M       324
      U        68
1980  F       605
      M       727
      U        83
1981  F       631
      M       745
      U        96
1982  F       823
      M      1027
      U       128
1983  F       771
      M       797
      U       105
1984  F       445
      M       443
      U        93
1985  F       636
      M       716
      U        86
1986  F       414
      M       455
      U        73
1987  F       677
      M       862
      U       132
1988  F       604
      M       737
      U       128
1989  F       678
      M       780
      U       111
1990  F       581
      M       636
      U        94
1991  F       606
      M       637
      U       104
1992  F       443
      M       477
      U       118
1993  F       285
      M       380
      U        85
1994  F       243
      M       327
      U        98
1995  F       574
      M       534
      U       114
1996  F       725
      M       910
      U        71
1997  F      1071
      M      1357
      U        65
1998  F       717
      M       798
      U        95
1999  F       545
      M       530
      U        60
2000  F       690
      M       779
      U        83
2001  F       743
      M       744
      U       123
2002  F      1149
      M       979
      U       101
Name: record_id, dtype: int64
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution to challenge 2 </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>What is the average weight of each taxa?</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="co"># Create the merged dataframe</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(surveys, species, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="co"># Group by taxa</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>grouped <span class="op">=</span> merged.groupby(<span class="st">"taxa"</span>)</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="co"># Calculate the min, max, and mean weight</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a>grouped[<span class="st">"weight"</span>].mean()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>taxa
Bird             NaN
Rabbit           NaN
Reptile          NaN
Rodent     42.672428
Name: weight, dtype: float64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution to challenge 3 </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>What are the minimum, maximum and average weight for each species of
Rodent?</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Create the merged dataframe</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(surveys, species, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="co"># Limit merged dataframe to rodents</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>rodents <span class="op">=</span> merged[merged[<span class="st">"taxa"</span>] <span class="op">==</span> <span class="st">"Rodent"</span>]</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="co"># Group rodents by species</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a>grouped <span class="op">=</span> rodents.groupby(<span class="st">"species_id"</span>)</span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co"># Calculate the min, max, and mean weight</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a>grouped.agg({<span class="st">"weight"</span>: [<span class="st">"min"</span>, <span class="st">"max"</span>, <span class="st">"mean"</span>]})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead>
<tr>
<th>
</th>
<th colspan="3" halign="left">
weight
</th>
</tr>
<tr>
<th>
</th>
<th>
min
</th>
<th>
max
</th>
<th>
mean
</th>
</tr>
<tr>
<th>
species_id
</th>
<th>
</th>
<th>
</th>
<th>
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
AH
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
BA
</th>
<td>
6.0
</td>
<td>
18.0
</td>
<td>
8.600000
</td>
</tr>
<tr>
<th>
DM
</th>
<td>
10.0
</td>
<td>
66.0
</td>
<td>
43.157864
</td>
</tr>
<tr>
<th>
DO
</th>
<td>
12.0
</td>
<td>
76.0
</td>
<td>
48.870523
</td>
</tr>
<tr>
<th>
DS
</th>
<td>
12.0
</td>
<td>
190.0
</td>
<td>
120.130546
</td>
</tr>
<tr>
<th>
DX
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
NL
</th>
<td>
30.0
</td>
<td>
280.0
</td>
<td>
159.245660
</td>
</tr>
<tr>
<th>
OL
</th>
<td>
10.0
</td>
<td>
56.0
</td>
<td>
31.575258
</td>
</tr>
<tr>
<th>
OT
</th>
<td>
5.0
</td>
<td>
46.0
</td>
<td>
24.230556
</td>
</tr>
<tr>
<th>
OX
</th>
<td>
18.0
</td>
<td>
24.0
</td>
<td>
21.000000
</td>
</tr>
<tr>
<th>
PB
</th>
<td>
12.0
</td>
<td>
55.0
</td>
<td>
31.735943
</td>
</tr>
<tr>
<th>
PE
</th>
<td>
8.0
</td>
<td>
40.0
</td>
<td>
21.586508
</td>
</tr>
<tr>
<th>
PF
</th>
<td>
4.0
</td>
<td>
25.0
</td>
<td>
7.923127
</td>
</tr>
<tr>
<th>
PH
</th>
<td>
18.0
</td>
<td>
48.0
</td>
<td>
31.064516
</td>
</tr>
<tr>
<th>
PI
</th>
<td>
17.0
</td>
<td>
21.0
</td>
<td>
19.250000
</td>
</tr>
<tr>
<th>
PL
</th>
<td>
8.0
</td>
<td>
27.0
</td>
<td>
19.138889
</td>
</tr>
<tr>
<th>
PM
</th>
<td>
7.0
</td>
<td>
49.0
</td>
<td>
21.364155
</td>
</tr>
<tr>
<th>
PP
</th>
<td>
4.0
</td>
<td>
74.0
</td>
<td>
17.173942
</td>
</tr>
<tr>
<th>
PX
</th>
<td>
18.0
</td>
<td>
20.0
</td>
<td>
19.000000
</td>
</tr>
<tr>
<th>
RF
</th>
<td>
9.0
</td>
<td>
20.0
</td>
<td>
13.386667
</td>
</tr>
<tr>
<th>
RM
</th>
<td>
4.0
</td>
<td>
29.0
</td>
<td>
10.585010
</td>
</tr>
<tr>
<th>
RO
</th>
<td>
8.0
</td>
<td>
13.0
</td>
<td>
10.250000
</td>
</tr>
<tr>
<th>
RX
</th>
<td>
11.0
</td>
<td>
20.0
</td>
<td>
15.500000
</td>
</tr>
<tr>
<th>
SF
</th>
<td>
24.0
</td>
<td>
199.0
</td>
<td>
58.878049
</td>
</tr>
<tr>
<th>
SH
</th>
<td>
16.0
</td>
<td>
140.0
</td>
<td>
73.148936
</td>
</tr>
<tr>
<th>
SO
</th>
<td>
15.0
</td>
<td>
105.0
</td>
<td>
55.414634
</td>
</tr>
<tr>
<th>
SS
</th>
<td>
57.0
</td>
<td>
130.0
</td>
<td>
93.500000
</td>
</tr>
<tr>
<th>
ST
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
UR
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution to challenge 4 </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>What is the average hindfoot length for male and female rodent of
each species? Is there a male/female difference?</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Create the merged dataframe</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(surveys, species, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="co"># Limit merged dataframe to rodents</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>rodents <span class="op">=</span> merged[merged[<span class="st">"taxa"</span>] <span class="op">==</span> <span class="st">"Rodent"</span>]</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="co"># Group rodents by species and sex</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>grouped <span class="op">=</span> rodents.groupby([<span class="st">"species_id"</span>, <span class="st">"sex"</span>])</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="co"># Calculate the mean hindfoot length, plus count and standard deviation</span></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a><span class="co"># to better assess the question</span></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>):</span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a>    <span class="bu">print</span>(grouped[<span class="st">"hindfoot_length"</span>].agg([<span class="st">"count"</span>, <span class="st">"mean"</span>, <span class="st">"std"</span>]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                count       mean        std
species_id sex
AH         M        0        NaN        NaN
           U        2  33.000000   2.828427
BA         F       31  13.161290   1.529636
           M       14  12.642857   2.097880
           U        0        NaN        NaN
DM         F     4302  35.712692   1.433067
           M     5658  36.188229   1.455396
           U       12  35.583333   0.996205
DO         F     1244  35.486334   1.726414
           M     1640  35.698780   1.611656
           U        3  36.000000   0.000000
DS         F     1046  49.583174   1.973573
           M     1083  50.301939   2.128120
           U        3  50.000000   1.732051
DX         U        0        NaN        NaN
NL         F      620  32.024194   1.669181
           M      452  32.577434   1.903603
           U        2  52.000000  25.455844
OL         F      438  20.287671   1.101022
           M      480  20.758333   1.651195
           U        2  20.000000   0.000000
OT         F     1019  20.281649   1.519412
           M     1115  20.257399   1.087354
           U        5  19.600000   1.140175
OX         F        3  19.666667   1.154701
           M        5  18.800000   3.346640
           U        0        NaN        NaN
PB         F     1645  25.882675   0.928842
           M     1213  26.431987   1.444130
           U        6  26.166667   0.983192
PE         F      544  20.272059   1.156084
           M      666  20.132132   1.177721
           U        2  20.500000   0.707107
PF         F      721  15.550624   1.381627
           M      770  15.620779   1.142208
           U        2  13.000000   4.242641
PH         F       20  25.900000   1.293709
           M       11  25.545455   1.752920
PI         M        8  22.500000   0.534522
           U        1  20.000000        NaN
PL         F       16  19.750000   2.720294
           M       19  20.263158   0.933459
           U        1  20.000000        NaN
PM         F      361  20.279778   1.162782
           M      483  20.530021   1.275621
           U        3  21.333333   4.041452
PP         F     1574  21.676620   1.316529
           M     1444  21.838643   1.201006
           U        9  20.888889   2.027588
PX         F        1  19.000000        NaN
           M        1  20.000000        NaN
           U        0        NaN        NaN
RF         F       55  17.527273   0.813191
           M       18  17.500000   0.985184
RM         F     1133  16.391880   1.123946
           M     1296  16.491512   1.134202
           U       13  15.846154   2.444250
RO         F        4  14.750000   0.957427
           M        4  16.000000   1.154701
RX         M        2  18.500000   2.121320
SF         F       16  27.500000   2.683282
           M       23  26.347826   3.524056
           U        2  24.500000   0.707107
SH         F       71  29.028169   2.298893
           M       60  27.983333   2.801281
           U        0        NaN        NaN
SO         F       30  25.633333   4.139660
           M       11  25.727273   1.954017
SS         F        0        NaN        NaN
           M        0        NaN        NaN
           U        0        NaN        NaN
ST         U        0        NaN        NaN
UR         U        0        NaN        NaN
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution to challenge 5 </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>What is the average weight of each rodent species over the course of
the years? Is there any noticeable trend for any of the species?</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="co"># Create the merged dataframe</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>merged <span class="op">=</span> pd.merge(surveys, species, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a><span class="co"># Limit merged dataframe to rodents</span></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>rodents <span class="op">=</span> merged[merged[<span class="st">"taxa"</span>] <span class="op">==</span> <span class="st">"Rodent"</span>]</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="co"># Group rodents by species and year</span></span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a>grouped <span class="op">=</span> rodents.groupby([<span class="st">"species_id"</span>, <span class="st">"year"</span>])</span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a><span class="co"># Calculate the mean weight by year</span></span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a>result <span class="op">=</span> grouped[<span class="st">"weight"</span>].mean()</span>
<span id="cb35-12"><a href="#cb35-12" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" tabindex="-1"></a><span class="co"># Use the option_context context manager to show all rows</span></span>
<span id="cb35-14"><a href="#cb35-14" tabindex="-1"></a><span class="cf">with</span> pd.option_context(<span class="st">"display.max_rows"</span>, <span class="va">None</span>):</span>
<span id="cb35-15"><a href="#cb35-15" tabindex="-1"></a>    <span class="bu">print</span>(result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id  year
AH          1978           NaN
            1982           NaN
            1983           NaN
            1984           NaN
            1985           NaN
            1986           NaN
            1987           NaN
            1988           NaN
            1989           NaN
            1990           NaN
            1991           NaN
            1992           NaN
            1993           NaN
            1994           NaN
            1995           NaN
            1996           NaN
            1997           NaN
            1998           NaN
            1999           NaN
            2000           NaN
            2001           NaN
            2002           NaN
BA          1989      7.000000
            1990      8.000000
            1991      9.240000
            1992      7.833333
DM          1977     41.141304
            1978     40.795455
            1979     43.507317
            1980     44.136082
            1981     44.032907
            1982     41.975042
            1983     40.944551
            1984     40.765306
            1985     41.507645
            1986     43.361596
            1987     43.232609
            1988     43.397790
            1989     44.349206
            1990     41.769912
            1991     43.148338
            1992     43.877966
            1993     43.373984
            1994     42.373288
            1995     44.806147
            1996     44.506173
            1997     44.708551
            1998     43.131403
            1999     43.945402
            2000     43.126638
            2001     45.442177
            2002     46.168317
DO          1977     42.666667
            1978     45.000000
            1979     45.862069
            1980     48.058824
            1981     49.111111
            1982     47.919643
            1983     47.150602
            1984     48.415094
            1985     47.956731
            1986     49.372727
            1987     50.087379
            1988     51.463768
            1989     51.025641
            1990     48.512048
            1991     49.695652
            1992     48.367816
            1993     48.461538
            1994     47.750000
            1995     49.592593
            1996     47.234940
            1997     48.177866
            1998     49.731183
            1999     48.012048
            2000     49.224719
            2001     52.233766
            2002     49.514403
DS          1977    121.437500
            1978    115.198653
            1979    111.796954
            1980    120.725664
            1981    125.818444
            1982    115.647929
            1983    122.033088
            1984    124.082192
            1985    124.326316
            1986    128.071429
            1987    126.383838
            1988    129.490566
            1989    121.896552
            1990    121.187500
            1991    113.000000
            1992    112.352941
            1993    105.722222
            1994    106.625000
            1997    111.000000
            1998    116.000000
            1999    120.714286
DX          1980           NaN
            1983           NaN
            1986           NaN
            1988           NaN
            1991           NaN
            1992           NaN
            1993           NaN
            1994           NaN
            1995           NaN
            1996           NaN
            1998           NaN
            1999           NaN
            2000           NaN
            2001           NaN
            2002           NaN
NL          1977           NaN
            1978    184.656250
            1979    138.000000
            1980    158.982143
            1981    165.903226
            1982    160.613208
            1983    156.691489
            1984    150.095238
            1985    148.829268
            1986    159.724138
            1987    158.840000
            1988    163.104167
            1989    151.278689
            1990    154.275862
            1991    148.785714
            1992    139.000000
            1993    127.391304
            1994    186.875000
            1995    155.833333
            1996    148.000000
            1997    150.688889
            1998    159.466667
            1999    182.200000
            2000    179.307692
            2001    167.851064
            2002    182.159091
OL          1977     21.666667
            1978     31.027027
            1979     33.717391
            1980     33.107143
            1981     33.296296
            1982     35.590361
            1983     34.584615
            1984     32.550725
            1985     32.108696
            1986     30.880952
            1987     30.779221
            1988     30.306122
            1989     31.947368
            1990     31.200000
            1991     28.171429
            1992     28.454545
            1993     27.545455
            1994     21.900000
            1995     27.296296
            1996     27.769231
            1997     33.625000
            2002     25.428571
OT          1977     21.000000
            1978     23.220000
            1979     23.075758
            1980     24.083333
            1981     24.415385
            1982     24.925532
            1983     24.697674
            1984     22.416667
            1985     22.064516
            1986     21.500000
            1987     23.069767
            1988     24.070588
            1989     24.663366
            1990     23.675325
            1991     24.588235
            1992     24.928571
            1993     22.363636
            1994     25.285714
            1995     24.868421
            1996     23.453704
            1997     24.785156
            1998     24.675676
            1999     25.723810
            2000     25.303448
            2001     23.707792
            2002     23.833333
OX          1977     21.333333
            1978           NaN
            1982     24.000000
            1984     18.000000
            1989     20.000000
            1993           NaN
PB          1995     34.000000
            1996     32.578947
            1997     31.085603
            1998     30.082237
            1999     31.710037
            2000     30.878899
            2001     32.798851
            2002     32.359447
PE          1977     19.500000
            1978     20.428571
            1979     20.529412
            1980     22.450000
            1981     20.558140
            1982     21.173077
            1983     20.864865
            1984     20.210526
            1985     20.360000
            1986     22.520000
            1987     21.625899
            1988     22.625668
            1989     21.935673
            1990     21.671233
            1991     21.435484
            1992     22.750000
            1993     19.230769
            1994     18.000000
            1995     21.230769
            1996     22.027778
            1997     20.929825
            1998     20.304348
            1999     25.428571
            2000     21.615385
            2001     20.400000
            2002     21.719298
PF          1977      7.173913
            1978      7.088235
            1979      7.529412
            1980      7.455556
            1981      7.152542
            1982      6.918919
            1983      6.833333
            1984      7.428571
            1985           NaN
            1986      8.000000
            1987      7.500000
            1988      8.000000
            1989      7.230769
            1990      7.117647
            1991      7.827586
            1992      8.767857
            1993      8.238806
            1994      7.855072
            1995      8.780645
            1996      8.393846
            1997      8.448649
            1998      8.720000
            2001      8.538462
            2002      7.388889
PH          1984     28.000000
            1985     32.666667
            1986     39.000000
            1988     33.000000
            1989     30.500000
            1990     31.142857
            1992     31.142857
            1995     35.333333
            1997     22.000000
PI          1992     18.000000
            1995           NaN
            2001     18.000000
            2002     20.000000
PL          1995     22.333333
            1996     21.166667
            1997     18.789474
            1998     16.714286
            2000     21.000000
PM          1978     20.666667
            1979     23.666667
            1980     21.000000
            1981     19.933333
            1982     21.391304
            1983     22.023810
            1984     19.545455
            1985     19.000000
            1986     21.696970
            1987     22.297710
            1988     21.759259
            1989     20.222222
            1995     27.375000
            1996     20.224490
            1997     21.126394
            1998     20.591398
            1999     22.523810
            2000     20.500000
            2001     26.666667
            2002     19.000000
PP          1977     15.333333
            1978     14.869565
            1979     15.105263
            1980     14.176471
            1981     13.950000
            1982     16.125000
            1983     15.468750
            1984     15.307692
            1985     15.764706
            1986     16.750000
            1987     17.840909
            1988     18.280000
            1989     17.409091
            1990     16.029412
            1991     17.904762
            1992     17.479675
            1993     17.954023
            1994     17.585714
            1995     16.844444
            1996     18.095563
            1997     18.175000
            1998     16.266990
            1999     16.521212
            2000     16.788618
            2001     17.752896
            2002     17.018617
PX          1996           NaN
            1997     19.000000
            1998           NaN
            2000           NaN
RF          1982     11.500000
            1988     13.818182
            1989     13.346939
            1990     12.916667
            1997     20.000000
RM          1977     10.000000
            1978      7.500000
            1979      8.333333
            1980     10.227273
            1981     11.178571
            1982     10.436242
            1983      9.872000
            1984     11.152542
            1985      8.371429
            1986     10.750000
            1987     10.657609
            1988     10.322115
            1989     10.411311
            1990     10.305677
            1991     10.498305
            1992     10.904762
            1993     10.747475
            1994     10.675000
            1995     12.653846
            1996     11.455556
            1997     11.230769
            1998     13.100000
            1999     10.555556
            2000     11.400000
            2001     11.333333
            2002     10.000000
RO          1991     11.000000
            2002     10.142857
RX          1995     20.000000
            1997     11.000000
SF          1989     54.800000
            1990     52.611111
            1991     93.166667
            1992     43.000000
            1993     44.000000
            2002     62.166667
SH          1977           NaN
            1978     89.000000
            1982     79.000000
            1983           NaN
            1986     55.000000
            1987     73.800000
            1988     72.806452
            1989     76.345455
            1990     76.888889
            1991     63.000000
            1997     50.857143
            1999     54.000000
            2000     73.375000
            2001     79.900000
            2002     64.666667
SO          1991     53.909091
            1992     55.263158
            1993     55.600000
            1994     62.333333
            1997     54.666667
SS          1977           NaN
            1978    130.000000
            1979           NaN
            1980           NaN
            1981     57.000000
            1982           NaN
            1983           NaN
            1984           NaN
            1985           NaN
            1986           NaN
            1987           NaN
            1988           NaN
            1989           NaN
            1990           NaN
            1991           NaN
            1992           NaN
            1993           NaN
            1994           NaN
            1995           NaN
            1996           NaN
            1997           NaN
            1998           NaN
            1999           NaN
            2000           NaN
            2001           NaN
            2002           NaN
ST          1993           NaN
UR          1987           NaN
            1988           NaN
            1991           NaN
            1992           NaN
            1994           NaN
            2001           NaN
            2002           NaN
Name: weight, dtype: float64
</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Combine two dataframes on one or more common values using
<code>pd.merge()</code>
</li>
<li>Append rows from one dataframe to another using
<code>pd.concat()</code>
</li>
<li>Combine multiple text columns into one using the <code>+</code>
operator</li>
<li>Convert date info to datetime objects using
<code>pd.to_datetime()</code>
</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-06-visualizing-data"><p>Content from <a href="06-visualizing-data.html">Visualizing Data</a></p>
<hr>
<p>Last updated on 2025-07-15 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/06-visualizing-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 60 minutes</p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can we create different types of plots using Python?</li>
<li>How can we style plots?</li>
<li>How can we add descriptive titles to plots and axes?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Review processes for reading, modifying, and combining
dataframes</li>
<li>Make and customize scatter, box, and bar plots</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>We’ll begin by loading and preparing the data we’d like to plot. This
will include operations introduced in previous lessons, including
reading CSVs into dataframes, merging dataframes, sorting a dataframe,
and removing records that include null values. We’ll begin by importing
pandas:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<p>Next we’ll load the surveys dataset using
<code>pd.read_csv()</code>:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<p>Now we want to take a quick look at the surveys dataset. Since we’re
going to be plotting data, we need to consider how we want to handle any
null values in the dataset. The <code>info()</code> method provides an
overview, including counts of non-null values, that we can use to assess
the dataset.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>surveys.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 35549 entries, 0 to 35548
Data columns (total 9 columns):
 #   Column           Non-Null Count  Dtype
---  ------           --------------  -----
 0   record_id        35549 non-null  int64
 1   month            35549 non-null  int64
 2   day              35549 non-null  int64
 3   year             35549 non-null  int64
 4   plot_id          35549 non-null  int64
 5   species_id       34786 non-null  object
 6   sex              33038 non-null  object
 7   hindfoot_length  31438 non-null  float64
 8   weight           32283 non-null  float64
dtypes: float64(2), int64(5), object(2)
memory usage: 2.4+ MB
</code></pre>
</div>
<p>There are 35,459 records in the table. Four columns—species_id, sex,
hindfoot_length, and weight—include null values, that is, they contain
fewer non-null values than there are rows in the dataframe. We can us
<code>fillna()</code> to replace null values where it makes sense to do
so. For example, some specimens do not specify as sex. We can fill those
values in with the letter U (for unknown):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>surveys[<span class="st">"sex"</span>] <span class="op">=</span> surveys[<span class="st">"sex"</span>].fillna(<span class="st">"U"</span>)</span></code></pre>
</div>
<p>The other three columns that contain null values are all required for
the plots we will create below. This means that we can use
<code>dropna()</code> to drop all rows where any column is null:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>surveys <span class="op">=</span> surveys.dropna()</span></code></pre>
</div>
<p>Now we we’ll merge the main surveys dataframe with two other datasets
containing additional information:</p>
<ul>
<li>
<strong>species.csv</strong> provides the genus and species
corresponding to species_id</li>
<li>
<strong>plots.csv</strong> provides the plot type corresponding to
plot_id</li>
</ul>
<p>We will read each CSV and merge it into the main dataframe:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>species <span class="op">=</span> pd.read_csv(<span class="st">"data/species.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>plots <span class="op">=</span> pd.read_csv(<span class="st">"data/plots.csv"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>surveys <span class="op">=</span> surveys.merge(species, how<span class="op">=</span><span class="st">"left"</span>).merge(plots, how<span class="op">=</span><span class="st">"left"</span>)</span></code></pre>
</div>
<div id="chaining" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="chaining" class="callout-inner">
<h3 class="callout-title">Chaining</h3>
<div class="callout-content">
<p>The previous cell performs two merges in the same line of code.
Performing multiple operations on the same object in a single line of
code is called chaining.</p>
</div>
</div>
</div>
<p>We now have a dataframe that includes all observations from the
Portal dataset that specify a species, weight, and hindfoot length, as
well as descriptive metadata about each species and plot type. The taxa
column contains the general type of animal. If we look at the unique
values in this column–</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>surveys[<span class="st">"taxa"</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['Rodent'], dtype=object)</code></pre>
</div>
<p>–we can see that all remaining observations are of rodents. In honor
of this, we will assign our dataframe to a new variable:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>rodents <span class="op">=</span> surveys</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>rodents.sample(<span class="dv">5</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe { display: block; overflow-x: auto; white-space: nowrap; }
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
<th>
plot_type
</th>
</tr></thead>
<tbody>
<tr>
<th>
12369
</th>
<td>
15232
</td>
<td>
12
</td>
<td>
14
</td>
<td>
1988
</td>
<td>
11
</td>
<td>
PE
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
22.0
</td>
<td>
Peromyscus
</td>
<td>
eremicus
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr>
<tr>
<th>
30117
</th>
<td>
34885
</td>
<td>
10
</td>
<td>
6
</td>
<td>
2002
</td>
<td>
4
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
27.0
</td>
<td>
25.0
</td>
<td>
Chaetodipus
</td>
<td>
baileyi
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr>
<tr>
<th>
2723
</th>
<td>
3815
</td>
<td>
1
</td>
<td>
31
</td>
<td>
1981
</td>
<td>
13
</td>
<td>
OL
</td>
<td>
F
</td>
<td>
21.0
</td>
<td>
35.0
</td>
<td>
Onychomys
</td>
<td>
leucogaster
</td>
<td>
Rodent
</td>
<td>
Short-term Krat Exclosure
</td>
</tr>
<tr>
<th>
22412
</th>
<td>
26462
</td>
<td>
7
</td>
<td>
9
</td>
<td>
1997
</td>
<td>
19
</td>
<td>
PP
</td>
<td>
M
</td>
<td>
21.0
</td>
<td>
14.0
</td>
<td>
Chaetodipus
</td>
<td>
penicillatus
</td>
<td>
Rodent
</td>
<td>
Long-term Krat Exclosure
</td>
</tr>
<tr>
<th>
13991
</th>
<td>
17109
</td>
<td>
1
</td>
<td>
30
</td>
<td>
1990
</td>
<td>
4
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
49.0
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr>
</tbody>
</table>
<p>Finally, we’ll save the rodents dataframe to a file that we can load
directly in the future if needed:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>rodents.to_csv(<span class="st">"data/rodents.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>Now we’re ready to plot.</p>
<section><h2 class="section-heading" id="re-introducing-plotly">Re-introducing plotly<a class="anchor" aria-label="anchor" href="#re-introducing-plotly"></a>
</h2>
<hr class="half-width">
<p>We’ve already worked with plotly a little in previous lessons, but we
haven’t provided a comprehensive introduction. Plotly is a data
visualization package for Python that allows us to create customizable,
interactive plots of a variety of different types. Plotly makes plots
that are:</p>
<ul>
<li>
<strong>Customizable.</strong> Allows the appearance of plots to be
extensively modified.</li>
<li>
<strong>Interactive.</strong> Pan and zoom across plots, or hover
over elements to get additional information about them.</li>
<li>
<strong>Flexible.</strong> Many different plot types can be created,
often with only a few lines of code. Because plotly uses similar syntax
for each plot type, it is also easy to quickly change plot types to get
a different perspective on a dataset.</li>
<li>
<strong>Embeddable.</strong> Interactive plots can be embedded on
websites using ploty’s JavaScript library.</li>
</ul>
<div id="other-plotting-libraries" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="other-plotting-libraries" class="callout-inner">
<h3 class="callout-title">Other plotting libraries</h3>
<div class="callout-content">
<p>The R community has largely coalesced around gg2plot for plotting. In
contrast, the Python community has no clear consensus pick and makes use
of a number of data visualization packages. Some other commonly used
packages include:</p>
<ul>
<li><a href="https://bokeh.org/" class="external-link">Bokeh</a></li>
<li><a href="https://matplotlib.org/" class="external-link">Matplotlib</a></li>
<li><a href="https://seaborn.pydata.org/" class="external-link">seaborn</a></li>
<li><a href="https://altair-viz.github.io/" class="external-link">Vega-Altair</a></li>
</ul>
<p>The functionality of this packages overlaps to a large degree, and
which one to use depends in large part on personal preference.</p>
</div>
</div>
</div>
<p>Plotly has two main ways of making plots:</p>
<ul>
<li>
<code>plotly.express</code> provides a simplified interface for
quickly building and customizing plots</li>
<li>
<code>plotly.graph_objects</code> uses a more complex interface to
provide more granular control over the contents of a plot</li>
</ul>
<p>We will use <code>plotly.express</code> in this lesson.</p>
<p>We’ll begin by reproducing the scatter plot from the <a href="03-accessing-and-filtering-data.html#showing-data-on-a-plot">end
of lesson 3</a>, which included weight on the x axis and hindfoot length
on the y axis. Likely pandas, the developers of
<code>plotly.express</code> have a preferred alias, px, that we will use
when we import <code>plotly.express</code>:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>px.scatter(rodents, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-a5bc67ed89866863a9a8945a8141239c.html" width="760" height="570"><p>Before diving into the content of this plot, let’s take a quick look
at the interactive elements plotly makes available. When we hover over a
plotly plot, a toolbar appears in the upper right corner. Each icon on
the toolbar is a widget that allows us to interact with the plot. By
default, the toolbar includes the following widgets:</p>
<ul>
<li>The camera allows us to save the current view as a PNG file</li>
<li>The next four widgets are toggles that control how click-and-drag
affects the plot. Only one can be active at a time.
<ul>
<li>The magnifying glass enables drawing a box to zoom</li>
<li>The crossing arrows enable panning</li>
<li>The dotted box enables drawing a box to select data</li>
<li>The dotted lasso enables drawing an arbitrary shape to to select
data</li>
</ul>
</li>
<li>The plus box allows us to zoom in</li>
<li>The minus box allows us to zoom out</li>
<li>The crossing arrows autoscale the plot to show all adata</li>
<li>The house resets the plot to the original view</li>
</ul>
<p>When we hover over a data point, we get a tooltip that shows
information about that point.</p>
<p>Now let’s think about the plot itself.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>What are some limitations to the plot above? Think about how the data
itself is presented as well as the general appearance of the plot.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Some issues with the plot include the following:</p>
<ul>
<li>All points are the same color</li>
<li>Large number of overlapping points, making it difficult to
understand how data is distributed</li>
<li>Axis labels include underscores and lack units</li>
<li>No plot title</li>
</ul>
<p>Any others?</p>
</div>
</div>
</div>
</div>
<p>One issue with the plot is that many of the points in the dataframe
overlap, making it difficult to get a feel for how the data is
distributed. Does it cluster in places? Is it evenly distributed? We
really can’t tell.</p>
<p>We can mitigate this issue in part by making the points
semitransparent using the opacity keyword argument. We’ll use a value of
0.2, which means the points are mostly transparent.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>px.scatter(rodents, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, opacity<span class="op">=</span><span class="fl">0.2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-e6e8b7846f1f5308785022397604b063.html" width="760" height="570"><p>With the points now partially transparent, the places where they
overlap are more obvious, and we can see several clusters. To get a
better sense of what those clusters might be, let’s add some color to
the plot.</p>
<p>At the end of lesson 4, we colored this scatter plot based on the
species_id column. This revealed that several of the clusters reflected
the species of rodent observed. But the use of species_id was
problematic in other ways. For one, there are so many different species
that colors ended up being re-used. For another, the species codes are
not legible to people who are not intimately familiar with this
dataset.</p>
<p>With those concerns in mind, let’s use genus for color instead. Genus
information wasn’t available in lesson 4, but we can use it now now that
we’ve merged the surveys and species dataframes.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>px.scatter(rodents, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, color<span class="op">=</span><span class="st">"genus"</span>, opacity<span class="op">=</span><span class="fl">0.2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-9c621cbf03e5d76575c93439a4277a21.html" width="760" height="570"></embed></embed></embed></section><section><h2 class="section-heading" id="choosing-colors">Choosing colors<a class="anchor" aria-label="anchor" href="#choosing-colors"></a>
</h2>
<hr class="half-width">
<p>One concern when making plots is to make sure they are legible to as
broad an audience as possible. Clear, informative labels are one way to
do this. Color is another.</p>
<p>Plotly makes a number of color palettes available via its color
module. Because we are working with categorical data, we will use a
<em>qualitative</em> palette, which consists of a list of discrete
colors. Other palette types are also available. For example, plots
showing a range of values might benefit from using a <em>sequential</em>
or <em>diverging</em> color scheme, which use a continuous range of
colors (for example, blue to red for a heat map).</p>
<p>Qualitative palettes are available under
<code>px.colors.qualitative</code>. We can view the available plaettes
using the swatches function:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>px.colors.qualitative.swatches()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-20548c05560600010e3e88783aacdd86.html" width="760" height="570"><p>In the spirit of effective communication with a wide audience, we
will use <code>px.colors.qualitative.Safe</code>, a colorblind-safe
palette. Because we will be using the same palette for the rest of the
lesson, we will store the palette as a variable:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>colors <span class="op">=</span> px.colors.qualitative.Safe</span></code></pre>
</div>
<p>In addition to simplifying the code for future plots a bit, storing
the palette as a variable also allows us to quickly change the color
scheme for all our plots at once if needed.</p>
<p>Let’s apply the safe colors to our scatter plot:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>    rodents,</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-349b125e7900fc69cfa30682b78779c0.html" width="760" height="570"></embed></embed></section><section><h2 class="section-heading" id="sorting-data">Sorting data<a class="anchor" aria-label="anchor" href="#sorting-data"></a>
</h2>
<hr class="half-width">
<p>Take a look at the legend of the plot. The genera from the dataset
are all listed, but they are in no apparent order. This makes it
difficult for anyone looking at the plot to quickly pick out a given
genus. We can alphabetize the legend to make it more readable. To do so,
we can use the category_order keyword argument.</p>
<p>This argument requires a <code>dict</code>. Recall that a
<code>dict</code> is a mapping of keys to values defined using curly
braces. The <code>dict</code> passed to category_orders maps a column
name from the dataframe to a list of values in the preferred order.</p>
<p>One approach to creating an alphabetical list would be to simply
build the list manually. That would work well enough here, where we have
only a handful of values, but quickly becomes unwiedly for larger
datasets. Instead, we will used the built-in <code>sorted()</code>
function to create a sorted list of values in the genus column. Because
we will be using the same order in all following plots, we will store
the dict with the sorted values in a variable that we can refer to
whenever we need to and can change if needed.</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Create the <code>dict</code> needed for category_order. The
<code>dict</code> should map the column name, <code>genus</code>, to an
ordered list of unique values from that column.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>vals <span class="op">=</span> rodents[<span class="st">"genus"</span>]</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>unique <span class="op">=</span> vals.unique()</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>ordered <span class="op">=</span> <span class="bu">sorted</span>(unique)</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>cat_order <span class="op">=</span> {<span class="st">"genus"</span>: ordered}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>In addition to the approach used in the challenge, we can create the
<code>dict</code> we need with a single line of code:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>cat_order <span class="op">=</span> {<span class="st">"genus"</span>: <span class="bu">sorted</span>(rodents[<span class="st">"genus"</span>].unique())}</span></code></pre>
</div>
<p>That variable can now be passed to the category_orders keyword
argument, producing a new version of the plot with an alphabetical
legend.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>    rodents,</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-933d2518a110bd65ab5ebc96e3dcfc7c.html" width="760" height="570"><p>Note that the colors in the plot have also changed. Colors are
assigned based on the same category order used by the legend.</p>
</embed></section><section><h2 class="section-heading" id="adding-plot-and-axis-titles">Adding plot and axis titles<a class="anchor" aria-label="anchor" href="#adding-plot-and-axis-titles"></a>
</h2>
<hr class="half-width">
<p>By default, plotly uses the column names from the dataframe to label
the axes of a plot. Here, the axis labels are adequate but would benefit
from removing the underscore and including units. We can use the labels
keyword argument to assign human-readable labels to our plto.</p>
<p>We will turn again to a <code>dict</code> for this, which we will use
to map the underlying column names to preferred display values:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>labels <span class="op">=</span> {</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>    <span class="st">"hindfoot_length"</span>: <span class="st">"Hindfoot length (mm)"</span>,</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>    <span class="st">"genus"</span>: <span class="st">"Genus"</span>,</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>    <span class="st">"weight"</span>: <span class="st">"Weight (g)"</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>}</span></code></pre>
</div>
<p>We can then update the plot itself using the title and labels keyword
arguments:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>    rodents,</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent size by genus"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-25169cdf2c7196dc94ea79f6aadba526.html" width="760" height="570"></embed></section><section><h2 class="section-heading" id="create-a-faceted-plot">Create a faceted plot<a class="anchor" aria-label="anchor" href="#create-a-faceted-plot"></a>
</h2>
<hr class="half-width">
<p>Even with the semitransparent points, there is a good deal of overlap
among the data on this plot, particularly in the lower left part. It may
be useful to plot each genus separately to see if anyting interesting is
being obscured. We could do so using some of the techniques we’ve
already covered. For example, we could filter the dataframe by genus and
create a separate plots for each.</p>
<p>Plotly provides a simpler approach called faceting. A facet is a type
of filter, and a faceted plot includes a separate subplot for each
unique value. In plotly, we can create a faceted plot using the
facet_col keyword argument. This argument produces a separate subplot
for each unique value in the specified column. The subplots are arranged
in a single row.</p>
<p>The plots we have created so far have not specified dimensions, but
we will need to consider the size of the faceted plot. Because this plot
includes a number of subplots, it may appear cramped unless it is quite
wide. We can use the height and width keyword arguments to set the size
of the plot. Each of these arguments requires an integer specifying a
size in pixels.</p>
<p>Let’s update our plot to facet it by genus and make it 1400 pixels
wide by 400 pixels tall:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>    rodents,</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent size by genus"</span>,</span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1400</span>,</span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb31-14"><a href="#cb31-14" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-7af8a7c1bc6df4beb06c9a47f54800e5.html" width="760" height="570"><div id="row-facets" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="row-facets" class="callout-inner">
<h3 class="callout-title">Row facets</h3>
<div class="callout-content">
<p>The facet_col argument produces a single row of subplots. There is
another argument, facet_row, that places each subplot in a separate row
instead. Column and row facets can even be combined, for example, to
produce a grid of subplots with genus as columns and sex as rows.</p>
</div>
</div>
</div>
</embed></section><section><h2 class="section-heading" id="making-a-box-plot">Making a box plot<a class="anchor" aria-label="anchor" href="#making-a-box-plot"></a>
</h2>
<hr class="half-width">
<p>We briefly discussed box plots (also known as box-and-whisker plots)
in <a href="04-aggregating-data.html#visualizing-groups-and-statistics">lesson
4</a> as part of the discussion of summary statistics. Box plots are an
effective way to visualize the distribution of data. Plotly uses the
<code>px.box()</code> method to generate them.</p>
<p>Some issues raised about the plot created during the earlier
lesson—including the arbitrary order in which data was plotted, the
repeated colors, and the inclusion of species with no data—have already
been addressed above. We can integrate them into the box plot using the
same approaches that we used for the scatter plots previously. Let’s
create a box plot of hindfoot length by genus using the same color and
ordering rules we defined earlier:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>px.box(</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>    rodents,</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent hindfoot length by genus"</span>,</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-88a734bc811c5eb1714bc2bec0cd0a92.html" width="760" height="570"><p>We now have a box plot with colors corresponding to the scatter plots
above, with an alphabetically ordered x axis and legend.</p>
<p>There are other aspects of the box plot that we may want to tweak.
We’ll start with a concern about how the data is being represented. By
default, ploty’s box plots show individual points only for outliers,
that is, points that plot outside the upper and lower fences. This works
well enough for normally distributed data but can obscure patterns for
more complex distributions. And indeed, some genera, like
<em>Dipodomys</em>, show a large number of outliers on the box pot and
multiple clusters of data on the scatter plot. How might we update the
box plot to better convey these distributions?</p>
<p>The <code>px.box()</code> method includes a keyword argument, points,
that allows us to change how the underlying data is displayed. It
accepts three values:</p>
<ul>
<li>
<em>outliers</em> only shows the outliers (default)</li>
<li>
<em>all</em> shows all points</li>
<li>
<em>None</em> shows no points</li>
</ul>
<p>Let’s try updating the box plot to show all the underlying data:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a>px.box(</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>    rodents,</span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent hindfoot length by genus"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-5eea0eb0c66c21fc0305194a52809e43.html" width="760" height="570"><p>A point cloud is now visible to the left of each box-and-whisker. We
can see that plotly has spread the points out a bit along the x axis.
This process, called jitter, is necessary because otherwise the points
for each category would fall in a vertical line. We can also see that
we’ve run into the same problem we did above with the scatter plot: The
large number of overlapping points for each box makes it hard to see
what is going on inside each point cloud.</p>
<p>We can again address this problem by changing the opacity of the
markers. It’s a little more complicated than it was for the scatter
plot, however, because the <code>px.box()</code> method does not allow
us to set the marker opacity directly. Instead, we have to build the
plot, then update the existing markers using the
<code>update_traces()</code> method. (Plotly refers to markers, lines,
and other elements as traces.)</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>fig <span class="op">=</span> px.box(</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>    rodents,</span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent hindfoot length by genus"</span>,</span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a>)</span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a>fig.update_traces(marker<span class="op">=</span>{<span class="st">"opacity"</span>: <span class="fl">0.1</span>})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-868351fb9d246f1d5921e6d6b8303f39.html" width="760" height="570"><p>With the points now semitransparent, it is possible to see separate
populations among some genera, like <em>Dipodomys</em>.</p>
<p>Another way to examine the distribution of data is a violin plot,
which visualizes the distribution of points as a line, similar to a Bell
curve. We can change our box plot to a violin plot by swapping
<code>px.violin()</code> in for <code>px.box()</code>:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>fig <span class="op">=</span> px.violin(</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>    rodents,</span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>colors,</span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a>    category_orders<span class="op">=</span>cat_order,</span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent hindfoot length by genus"</span>,</span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a>    labels<span class="op">=</span>labels,</span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a>)</span>
<span id="cb39-12"><a href="#cb39-12" tabindex="-1"></a>fig.update_traces(marker<span class="op">=</span>{<span class="st">"opacity"</span>: <span class="fl">0.1</span>})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-a2b6e5819ae8ea740baeb7e00455bb9c.html" width="760" height="570"><p>This plot makes it easier to see identify complex distributions, like
the bimodal distribution for <em>Chaetodipus</em>, that are visible but
not necessarily obvious in the point clouds.</p>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Let’s return to a question posed all the way back in lesson 2: How
has the weight of <em>Dipodomys</em> species changed over time? Make a
plot that tries to answer this question.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>There are several reasonable approaches to this question using the
scatter plots and boxplots covered so far in this lesson. One
possibility is a faceted plot showing the mean weight of each
<em>Dipodomys</em> over the course of the study.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="co"># Create genus_species column</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a>rodents[<span class="st">"genus_species"</span>] <span class="op">=</span> rodents[<span class="st">"genus"</span>] <span class="op">+</span> <span class="st">" "</span> <span class="op">+</span> rodents[<span class="st">"species"</span>]</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="co"># Limit to Dipodomys</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a>dipodomys <span class="op">=</span> rodents[rodents[<span class="st">"genus"</span>] <span class="op">==</span> <span class="st">"Dipodomys"</span>].copy()</span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="co"># Group by genus_species</span></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a>grouped <span class="op">=</span> dipodomys.groupby([<span class="st">"genus_species"</span>, <span class="st">"year"</span>])[<span class="st">"weight"</span>].mean().reset_index()</span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a><span class="co"># Create scatter plot</span></span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a>px.scatter(grouped, x<span class="op">=</span><span class="st">"year"</span>, y<span class="op">=</span><span class="st">"weight"</span>, facet_col<span class="op">=</span><span class="st">"genus_species"</span>)</span></code></pre>
</div>
<p>The plot generated by this code shows that the mean weights for these
species oscillated over the course of the study. Overall, mean weight
increased slightly for the two smaller species but decreased for the
largest species (albeit with a large oscillation that makes determining
a trend difficult.)</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Plotly offers a wide variety of ways to build and style scatter
plots</li>
<li>Use scatter plots to visualize how parameters covary</li>
<li>Use box and violin plots to visualize the distribution of a
parameter</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</embed></embed></embed></embed></section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/adamancer/python-ecology-lesson-alt/" class="external-link">Source</a></p>
				<p><a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:mansura@si.edu">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "python, pandas, software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "identifier": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "dateCreated": "2022-05-10",
  "dateModified": "2025-07-15",
  "datePublished": "2025-07-15"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

