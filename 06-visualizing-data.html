<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data Management with Python for Ecologists: Visualizing Data</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/dc/favicon-16x16.png"><link rel="manifest" href="favicons/dc/site.webmanifest"><link rel="mask-icon" href="favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="assets/images/data-logo.svg"><span class="badge text-bg-info">
          <abbr title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-circle" style="border-radius: 5px"></i>
              Beta
            </a>
            <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/06-visualizing-data.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Data Management with Python for Ecologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Data Management with Python for Ecologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">References</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Management with Python for Ecologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 83%" class="percentage">
    83%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 83%" aria-valuenow="83" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/06-visualizing-data.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introducing-python.html">1. Introducing Python</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-introducing-pandas.html">2. Introducing pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-accessing-and-filtering-data.html">3. Accessing and Filtering Data</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-aggregating-and-sorting-data.html">4. Aggregating and Sorting Data</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-combining-data.html">5. Combining Dataframes</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        6. Visualizing Data
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#using-plotly">Using plotly</a></li>
<li><a href="#making-a-box-plot">Making a box plot</a></li>
<li><a href="#changing-labels">Changing labels</a></li>
<li><a href="#making-a-bar-chart">Making a bar chart</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">References</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="05-combining-data.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="05-combining-data.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Combining Dataframes
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Visualizing Data</h1>
        <p>Last updated on 2025-07-02 |

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/06-visualizing-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can we look at individual rows and columns in a dataframe?</li>
<li>How can we style plots?</li>
<li>How can we modify the table and data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Review processes for reading, modifying, and combining
dataframes</li>
<li>Make and customize scatter, box, and bar plots</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>We’ll begin by loading and preparing the data we’d like to plot. This
will include operations introduced in previous lessons, including
reading CSVs into dataframes, merging dataframes, sorting a dataframe,
and removing records that include null values. We’ll begin by importing
pands:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<p>Next we’ll load the surveys dataset using
<code>pd.read_csv()</code>:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<p>Now we want to take a quick look at the surveys dataset. Since we’re
going to be plotting data, we need to</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>surveys.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 35549 entries, 0 to 35548
Data columns (total 9 columns):
 #   Column           Non-Null Count  Dtype
---  ------           --------------  -----
 0   record_id        35549 non-null  int64
 1   month            35549 non-null  int64
 2   day              35549 non-null  int64
 3   year             35549 non-null  int64
 4   plot_id          35549 non-null  int64
 5   species_id       34786 non-null  object
 6   sex              33038 non-null  object
 7   hindfoot_length  31438 non-null  float64
 8   weight           32283 non-null  float64
dtypes: float64(2), int64(5), object(2)
memory usage: 2.4+ MB
</code></pre>
</div>
<p>There are 35,459 records in the table. Four columns–species_id, sex,
hindfoot_length, and weight–include null values.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>surveys[<span class="st">"sex"</span>] <span class="op">=</span> surveys[<span class="st">"sex"</span>].fillna(<span class="st">"U"</span>)</span></code></pre>
</div>
<p>The plots below require records.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>surveys <span class="op">=</span> surveys.dropna()</span></code></pre>
</div>
<p>Now we will merge the main surveys dataframe with two other datasets
containing additional information:</p>
<ul><li>
<strong>species.csv</strong> provides the genus and species
corresponding to species_id</li>
<li>
<strong>plots.csv</strong> provides the plot type corresponding to
plot_id</li>
</ul><p>We will read each CSV and merge it into the main dataframe:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>species <span class="op">=</span> pd.read_csv(<span class="st">"data/species.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>plots <span class="op">=</span> pd.read_csv(<span class="st">"data/plots.csv"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>surveys <span class="op">=</span> surveys.merge(species, how<span class="op">=</span><span class="st">"left"</span>).merge(plots, how<span class="op">=</span><span class="st">"left"</span>)</span></code></pre>
</div>
<div class="section level3">
<h3 id="chaining">Chaining<a class="anchor" aria-label="anchor" href="#chaining"></a></h3>
<p>The previous cell performs two merges in the same line of code.
Performing multiple operations on the same object in a single line of
code is called chaining.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>surveys[<span class="st">"taxa"</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['Rodent'], dtype=object)</code></pre>
</div>
<p>In honor of this, we will rename our dataframe:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>rodents <span class="op">=</span> surveys</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>rodents.sample(<span class="dv">5</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style><table border="1" class="table dataframe"><thead><tr style="text-align: right;"><th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
<th>
plot_type
</th>
</tr></thead><tbody><tr><th>
3662
</th>
<td>
5184
</td>
<td>
1
</td>
<td>
1
</td>
<td>
1982
</td>
<td>
2
</td>
<td>
PE
</td>
<td>
F
</td>
<td>
19.0
</td>
<td>
21.0
</td>
<td>
Peromyscus
</td>
<td>
eremicus
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr><tr><th>
8158
</th>
<td>
10373
</td>
<td>
5
</td>
<td>
23
</td>
<td>
1985
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
42.0
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr><tr><th>
25145
</th>
<td>
29471
</td>
<td>
4
</td>
<td>
17
</td>
<td>
1999
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
<td>
Control
</td>
</tr><tr><th>
16947
</th>
<td>
20448
</td>
<td>
10
</td>
<td>
18
</td>
<td>
1992
</td>
<td>
18
</td>
<td>
PF
</td>
<td>
F
</td>
<td>
16.0
</td>
<td>
10.0
</td>
<td>
Perognathus
</td>
<td>
flavus
</td>
<td>
Rodent
</td>
<td>
Short-term Krat Exclosure
</td>
</tr><tr><th>
12419
</th>
<td>
15288
</td>
<td>
12
</td>
<td>
14
</td>
<td>
1988
</td>
<td>
7
</td>
<td>
RM
</td>
<td>
M
</td>
<td>
16.0
</td>
<td>
8.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
<td>
Rodent Exclosure
</td>
</tr></tbody></table><p>Finally we will save the rodents dataframe to a file:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>rodents.to_csv(<span class="st">"data/rodents.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>We can load that dataframe directly in the future.</p>
</div>
<section><h2 class="section-heading" id="using-plotly">Using plotly<a class="anchor" aria-label="anchor" href="#using-plotly"></a></h2>
<hr class="half-width"><p>We’ve already worked a little with plotly in previous lessons.</p>
<ul><li>
<strong>Customizable.</strong> Allows the appearance of plots to be
extensively modified.</li>
<li>
<strong>Interactive.</strong> Pan and zoom across plots, or hover
over elements to get additional information about them.</li>
<li>
<strong>Flexible.</strong> Allows creation of many different plot
types, often with only a few lines of code.</li>
<li>
<strong>Embeddable.</strong> Interactive plots can be embedded on
websites using ploty’s JavaScript library.</li>
</ul><p>Plotly has two main ways of making plots:</p>
<ul><li>plotly.express provides a simplified interface for quickly building
and customizing plots</li>
<li>plotly.graph_objects uses a more complex interface to provide more
granular control over the exact appearance of a plot</li>
</ul><p>We will use plotly.express in this lesson.</p>
<div id="other-plotting-libraries" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="other-plotting-libraries" class="callout-inner">
<h3 class="callout-title">Other plotting libraries</h3>
<div class="callout-content">
<p>The R community has largely coalesced around gg2plot for plotting. In
contrast, the Python community uses a number of data visualization
libraries. Some commonly used alternatives to plotly include:</p>
<ul><li><a href="https://bokeh.org/" class="external-link">Bokeh</a></li>
<li><a href="https://matplotlib.org/" class="external-link">Matplotlib</a></li>
<li><a href="https://seaborn.pydata.org/" class="external-link">seaborn</a></li>
<li><a href="https://altair-viz.github.io/" class="external-link">Vega-Altair</a></li>
</ul></div>
</div>
</div>
<p>We’ll begin by reproducing the scatterplot from the end of lesson 4,
which used weight on the x axis and hindfoot length on the y axis.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>px.scatter(surveys, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-a5bc67ed89866863a9a8945a8141239c.html" width="760" height="570"><p>Let’s take a quick look at the interactive elements on this plot.
When we hover over a plotly plot, a toolbar appears in the upper right
corner. Each icon on the toolbar is a widget that allows us to interact
with the plot. By default, the toolbar includes the following
widgets:</p>
<ul><li>The camera allows us to save the current view as a PNG file</li>
<li>The next four widgets are toggles that control how click-and-drag
affects the plot. Only one can be active at a time.
<ul><li>The magnifying glass enable a zoom box</li>
<li>The crossing arrows enable panning</li>
<li>The dotted box enables drawing a box to select data</li>
<li>The dotted lasso enables drawing an arbitrary shape to to select
data</li>
</ul></li>
<li>The plus box allows us to zoom in</li>
<li>The minus box allows us to zoom out</li>
<li>The crossing arrows autoscale the plot to show all adata</li>
<li>The house resets the plot to the original view</li>
</ul><div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>What are some limitations to the plot above? Think about how the data
itself is presented as well as the general appearance of the plot.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ul><li>All points are the same color</li>
<li>Points overlap, making it difficult to understand how data is
distributed</li>
<li>Axis labels include underscores and lack units</li>
<li>No plot title</li>
</ul><p>Any others?</p>
</div>
</div>
</div>
</div>
<p>One issue with the plot is that many of the points in the dataframe
overlap, making it difficult to get a feel for how the data is
distributed. Does it cluster in places? Is it evenly distributed? We
really can’t tell.</p>
<p>We can mitigate this issue in part by making the points
semitransparent using the opacity keyword argument:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>px.scatter(surveys, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, opacity<span class="op">=</span><span class="fl">0.2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-e6e8b7846f1f5308785022397604b063.html" width="760" height="570"><p>With the points now partially transparent, the places where they
overlap are clearer, and we can see several areas where the observations
cluster.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>px.scatter(surveys, x<span class="op">=</span><span class="st">"weight"</span>, y<span class="op">=</span><span class="st">"hindfoot_length"</span>, color<span class="op">=</span><span class="st">"genus"</span>, opacity<span class="op">=</span><span class="fl">0.2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-9c621cbf03e5d76575c93439a4277a21.html" width="760" height="570"><div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>    surveys,</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-349b125e7900fc69cfa30682b78779c0.html" width="760" height="570"><p>The legend of the plot is not ordered. Because we want to use a
consistent color scheme across plots. We can use the category_order
keyword argument to order the legend alphabetically.</p>
<p>This argument uses a <code>dict</code>, which is a built-in data type
that we have not discussed yet. That means it can be used in any Python
application without having to import anything. Like a <code>list</code>,
a <code>dict</code> is a container that can include more than one
object. Where as a <code>list</code> is a sequence, a <code>dict</code>
is a mapping consisting of <em>keys</em> that map to
<em>values</em>.</p>
<p>Let’s see what that looks like in practice. Here we define a
<code>dict</code> mapping lowercase to uppercase letters. Each pair of
values is separated by a colon, with the key on the left and the value
on the right.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>letters <span class="op">=</span> {<span class="st">"a"</span>: <span class="st">"A"</span>, <span class="st">"b"</span>: <span class="st">"B"</span>, <span class="st">"c"</span>: <span class="st">"C"</span>}</span></code></pre>
</div>
<p>To retrieve the value for a given key, we use square brackets:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>letters[<span class="st">"a"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'A'</span></span></code></pre>
</div>
<p>The <code>dict</code> passed to category_orders maps a column name
from the dataframe to a list of values in the preferred order. We stated
above that we’d like the genera in the plot to appear in alphabetical
order. We can construct that list manually. Instead, we will used the
built-in <code>sorted()</code> function to sort the values from the
genus column of the dataframe. Because we will be using the same order
in all following plots, we will store the sorted values in a
variable.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>order <span class="op">=</span> <span class="bu">sorted</span>(surveys[<span class="st">"genus"</span>].unique())</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>order</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['Baiomys',
 'Chaetodipus',
 'Dipodomys',
 'Neotoma',
 'Onychomys',
 'Perognathus',
 'Peromyscus',
 'Reithrodontomys',
 'Sigmodon']</code></pre>
</div>
<p>We can then pass the full <code>dict</code>—that is,
<code>{"genus": order}</code>—to the <code>px.scatter()</code> method to
put the legend in alphabetical order:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>px.scatter(</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>    surveys,</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>    opacity<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>    category_orders<span class="op">=</span>{<span class="st">"genus"</span>: order}</span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-933d2518a110bd65ab5ebc96e3dcfc7c.html" width="760" height="570"></embed></embed></embed></embed></embed></section><section><h2 class="section-heading" id="making-a-box-plot">Making a box plot<a class="anchor" aria-label="anchor" href="#making-a-box-plot"></a></h2>
<hr class="half-width"><div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>px.box(</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>    surveys,</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>    category_orders<span class="op">=</span>{<span class="st">"genus"</span>: order}</span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-1822cae94d8b2ae13c24587aa9846d13.html" width="760" height="570"><div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>px.box(</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>    surveys,</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a>    category_orders<span class="op">=</span>{<span class="st">"genus"</span>: order},</span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-1822cae94d8b2ae13c24587aa9846d13.html" width="760" height="570"><div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>px.box(</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>    surveys,</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-1121e84c510b364cb091c14e4c235f1b.html" width="760" height="570"><p>To update, we can use the update_traces() method.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>fig <span class="op">=</span> px.box(</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>    surveys,</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>    category_orders<span class="op">=</span>{<span class="st">"genus"</span>: order},</span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a>)</span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a>fig.update_traces(marker<span class="op">=</span>{<span class="st">"opacity"</span>: <span class="fl">0.2</span>})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-7ce43f9683783ab25be1e3c9b9c449d0.html" width="760" height="570"><p>A similar plot is a violin plot. Try changing <code>px.box</code> to
<code>px.violin</code> in the code above.</p>
</embed></embed></embed></embed></section><section><h2 class="section-heading" id="changing-labels">Changing labels<a class="anchor" aria-label="anchor" href="#changing-labels"></a></h2>
<hr class="half-width"><p>By default, plotly uses the column names from the dataframe as axis
labels. Column names may be legible but are rarely ideal.</p>
<p>Like category_orders, updating labels requires a
<code>dict</code>.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>fig <span class="op">=</span> px.box(</span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>    surveys,</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"hindfoot_length"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a>    category_orders<span class="op">=</span>{<span class="st">"genus"</span>: order},</span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a>    points<span class="op">=</span><span class="st">"all"</span>,</span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Rodent hindfoot length by genus"</span>,</span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a>        <span class="st">"hindfoot_length"</span>: <span class="st">"Hindfoot length (mm)"</span>,</span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a>        <span class="st">"genus"</span>: <span class="st">"Genus"</span>,</span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a>    }</span>
<span id="cb36-14"><a href="#cb36-14" tabindex="-1"></a>)</span>
<span id="cb36-15"><a href="#cb36-15" tabindex="-1"></a>fig.update_traces(marker<span class="op">=</span>{<span class="st">"opacity"</span>: <span class="fl">0.2</span>})</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-f45c439b56eb033a7459b9373521bc41.html" width="760" height="570"></embed></section><section><h2 class="section-heading" id="making-a-bar-chart">Making a bar chart<a class="anchor" aria-label="anchor" href="#making-a-bar-chart"></a></h2>
<hr class="half-width"><p>The stacked bar chart allows us to compare the total number of
observations per year but obscures how counts of individual genera have
varied over time. We can break each category into its own subplot by
adding the <code>facet-col</code> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>grouped <span class="op">=</span> rodents.groupby([<span class="st">"year"</span>, <span class="st">"genus"</span>]).count().reset_index()</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>px.bar(</span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a>    grouped,</span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"year"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-14499ad0383f30c6d3b5384fff0f3585.html" width="760" height="570"><div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>px.bar(</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>    grouped,</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"year"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"weight"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a>    facet_col<span class="op">=</span><span class="st">"genus"</span>,</span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a>    color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code></code></pre>
</div>
<embed src="files/fig-96cffed241e98e74588ea75b4e02c597.html" width="760" height="570"><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Use square brackets to access rows, columns, and specific cells</li>
<li>Use operators like <code>+</code>, <code>-</code>, and
<code>/</code> to perform arithmetic on rows and columns</li>
<li>Store the results of calculations in a dataframe by adding a new
column or overwriting an existing column</li>
<li>Sort data, rename columns, and get unique values in a dataframe
using methods provided by pandas</li>
<li>By default, most dataframe operations return a copy of the original
data</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</embed></embed></section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="05-combining-data.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="05-combining-data.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Combining Dataframes
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/06-visualizing-data.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/adamancer/python-ecology-lesson-alt/" class="external-link">Source</a></p>
				<p><a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:mansura@si.edu">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.6" class="external-link">varnish (1.0.6)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://adamancer.github.io/python-ecology-lesson-alt/06-visualizing-data.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "python, pandas, software, data, lesson, The Carpentries",
  "name": "Visualizing Data",
  "creativeWorkStatus": "active",
  "url": "https://adamancer.github.io/python-ecology-lesson-alt/06-visualizing-data.html",
  "identifier": "https://adamancer.github.io/python-ecology-lesson-alt/06-visualizing-data.html",
  "dateCreated": "2022-05-10",
  "dateModified": "2025-07-02",
  "datePublished": "2025-07-02"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

